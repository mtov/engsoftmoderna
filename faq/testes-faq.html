<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Marco Tulio Valente" />
  <title>Perguntas Frequentes sobre Testes de Software ‚Äì Engenharia de Software Moderna</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: 1;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    q { quotes: "‚Äú" "‚Äù" "‚Äò" "‚Äô"; }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-RGYNKH464F"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-RGYNKH464F');
  </script>

  <style>
  .dark-mode {
    background-color: black;
    color: white;
  }
  .dark-mode code {
    background-color: black;
    color: white;
  }    
  </style>

  <link rel="shortcut icon" type="image/x-icon" href="https://engsoftmoderna.info/figs/favicon.ico">

  <link rel="stylesheet" href="https://engsoftmoderna.info/helper/mini-default.min.css">

  <link rel="stylesheet" href="https://engsoftmoderna.info/helper/engsoftmoderna.css">

  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="container">
<div class="row cols-sm-12 col-md-10 col-lg-6">
<div class="col-md-offset-1 col-lg-offset-3">

<p>
<a href="https://engsoftmoderna.info">
<img src="https://engsoftmoderna.info/figs/capa/capa-3d.jpg"></a>
</p>

<p>
<a href="https://engsoftmoderna.info">P√°gina principal do livro</a>
</p>

<p>Compre na

<a href="https://www.amazon.com.br/gp/product/6500019504">Amazon</a>, 

<a href="https://www.submarino.com.br/produto/1768283036/engenharia-de-software-moderna">
      Submarino</a> ou 

<a href="https://loja.umlivro.com.br/engenharia-de-software-moderna-4778188/p">
      UmLivro</a>
</p>

<p>
Veja tamb√©m os cursos de extens√£o a dist√¢ncia 
<a href="http://www.engsoftmoderna.dcc.ufmg.br">Engenharia de Software Moderna</a> (48 horas) e
<a href="http://www.testesoft.dcc.ufmg.br">Teste de Software</a> (20 horas), oferecidos pelo DCC/ICEX/UFMG.</p>

<header id="title-block-header">
<h1 class="title">Engenharia de Software Moderna</h1>
<p class="author">Marco Tulio Valente</p>
</header>
<h1 class="unnumbered" id="perguntas-frequentes-sobre-testes">Perguntas
Frequentes sobre Testes <a href="#perguntas-frequentes-sobre-testes"
class="anchor-link" aria-hidden="true">üîó</a></h1>
<p>O objetivo deste artigo √© responder algumas perguntas frequentes que
s√£o feitas sobre o <a
href="https://engsoftmoderna.info/cap8.html">Cap√≠tulo 8</a> do livro. No
entanto, estamos interessados apenas em perguntas conceituais,
principalmente sobre os tr√™s tipos de testes abordados no cap√≠tulo:
<strong>unidade, integra√ß√£o e sistema</strong>. Tamb√©m, n√£o pretendemos
abordar quest√µes espec√≠ficas de um framework de testes ou de qualquer
outra tecnologia.</p>
<p>A lista atual de perguntas est√° organizada em quatro grandes
temas:</p>
<h5 class="unnumbered"
id="perguntas-sobre-conceitos-de-testes">Perguntas sobre conceitos de
testes <a href="#perguntas-sobre-conceitos-de-testes"
class="anchor-link" aria-hidden="true">üîó</a></h5>
<ol type="1">
<li><a href="#o-certo-%C3%A9-teste-de-unidade-ou-teste-unit%C3%A1rio">O
certo √© teste de unidade ou teste unit√°rio?</a></li>
<li><a href="#o-que-%C3%A9-uma-unidade">O que √© uma unidade?</a></li>
<li><a
href="#no-contexto-de-testes-o-que-significam-os-termos-falso-positivonegativo-e-verdadeiro-positivonegativo">No
contexto de testes, o que significam os termos falso positivo/negativo e
verdadeiro positivo/negativo?</a></li>
<li><a
href="#por-que-n%C3%A3o-usam-o-termo-dubl%C3%AA-de-testes-no-livro">Por
que n√£o usam o termo dubl√™ de testes no livro?</a></li>
</ol>
<h5 class="unnumbered"
id="perguntas-sobre-a-escrita-de-testes">Perguntas sobre a escrita de
testes <a href="#perguntas-sobre-a-escrita-de-testes"
class="anchor-link" aria-hidden="true">üîó</a></h5>
<ol start="5" type="1">
<li><a href="#precisamos-testar-m%C3%A9todos-privados">Precisamos testar
m√©todos privados?</a></li>
<li><a
href="#como-testar-m%C3%A9todos-que-t%C3%AAm-efeito-colateral">Como
testar m√©todos que t√™m efeito colateral?</a></li>
<li><a
href="#como-testar-m%C3%A9todos-que-n%C3%A3o-t%C3%AAm-efeito-colateral">Como
testar m√©todos que n√£o t√™m efeito colateral?</a></li>
<li><a
href="#quando-preciso-criar-um-mock-para-uma-depend%C3%AAncia">Quando
preciso criar um mock para uma depend√™ncia?</a></li>
<li><a href="#como-criar-um-mock-para-uma-depend%C3%AAncia-privada">Como
criar um mock para uma depend√™ncia privada?</a></li>
<li><a
href="#em-qual-pacote-ou-m%C3%B3dulo-ou-diret%C3%B3rio-devo-colocar-os-testes">Em
qual pacote (ou m√≥dulo, ou diret√≥rio) devo colocar os testes?</a></li>
</ol>
<h5 class="unnumbered"
id="perguntas-sobre-a-execu√ß√£o-de-testes">Perguntas sobre a execu√ß√£o de
testes <a href="#perguntas-sobre-a-execu√ß√£o-de-testes"
class="anchor-link" aria-hidden="true">üîó</a></h5>
<ol start="11" type="1">
<li><a href="#com-que-frequ%C3%AAncia-devemos-rodar-os-testes">Com que
frequ√™ncia devemos rodar os testes?</a></li>
<li><a
href="#quais-testes-devem-ser-rodados-por-um-servidor-de-integra%C3%A7%C3%A3o-cont%C3%ADnua-ci">Quais
testes devem ser rodados por um servidor de Integra√ß√£o Cont√≠nua
(CI)?</a></li>
<li><a href="#para-que-servem-su%C3%ADtes-de-testes">Para que servem
su√≠tes de testes?</a></li>
</ol>
<h5 class="unnumbered"
id="perguntas-sobre-outros-tipos-de-testes">Perguntas sobre outros tipos
de testes <a href="#perguntas-sobre-outros-tipos-de-testes"
class="anchor-link" aria-hidden="true">üîó</a></h5>
<ol start="14" type="1">
<li><a href="#o-que-%C3%A9-um-teste-de-fuma%C3%A7a-smoke-test">O que √©
um teste de fuma√ßa (smoke test)?</a></li>
<li><a href="#o-que-%C3%A9-um-teste-de-snapshot">O que √© um teste de
snapshot?</a></li>
<li><a href="#o-que-s%C3%A3o-testes-explorat%C3%B3rios">O que s√£o testes
explorat√≥rios?</a></li>
<li><a href="#o-que-%C3%A9-um-teste-de-muta%C3%A7%C3%A3o">O que √© um
Teste de Muta√ß√£o?</a></li>
</ol>
<p>Segue a lista de perguntas e suas respostas.</p>
<hr />
<h3 class="unnumbered"
id="o-certo-√©-teste-de-unidade-ou-teste-unit√°rio">1. O certo √© teste de
unidade ou teste unit√°rio? <a
href="#o-certo-√©-teste-de-unidade-ou-teste-unit√°rio" class="anchor-link"
aria-hidden="true">üîó</a></h3>
<p>Os dois termos s√£o usados. Ent√£o, assumindo que a l√≠ngua √© uma
entidade viva e din√¢mica, n√£o consideramos errado usar qualquer um
deles. Dito isso, preferimos teste de unidade, porque teste unit√°rio
pode passar a ideia errada de que temos um √∫nico teste no sistema.</p>
<h3 class="unnumbered" id="o-que-√©-uma-unidade">2. O que √© uma unidade?
<a href="#o-que-√©-uma-unidade" class="anchor-link"
aria-hidden="true">üîó</a></h3>
<p>No contexto de testes de unidade, a defini√ß√£o de unidade n√£o √©
totalmente objetiva. Tendemos a dizer que uma unidade √© uma classe, no
caso de sistemas orientados a objetos. No entanto, n√£o precisamos ser
dogm√°ticos e podemos considerar que certos testes v√£o testar um
<strong>conjunto de classes</strong>. O fundamental √© que tais testes
atendam aos princ√≠pios FIRST, principalmente aqueles associados √†s tr√™s
primeiras letras: r√°pidos, independentes e repet√≠veis (ou
determin√≠sticos). Mais detalhes sobre esses princ√≠pios na Se√ß√£o 8.3.1 do
<a
href="https://engsoftmoderna.info/cap8.html#princ%C3%ADpios-first">Cap√≠tulo
8</a>.</p>
<h3 class="unnumbered"
id="no-contexto-de-testes-o-que-significam-os-termos-falso-positivonegativo-e-verdadeiro-positivonegativo">3.
No contexto de testes, o que significam os termos falso
positivo/negativo e verdadeiro positivo/negativo? <a
href="#no-contexto-de-testes-o-que-significam-os-termos-falso-positivonegativo-e-verdadeiro-positivonegativo"
class="anchor-link" aria-hidden="true">üîó</a></h3>
<p>Seguem as defini√ß√µes:</p>
<ul>
<li>Falso positivo: um teste que falha, embora o c√≥digo testado esteja
correto.</li>
<li>Falso negativo: um teste que passa, apesar de o c√≥digo testado ter
um bug.</li>
<li>Verdadeiro positivo: um teste que falha e o c√≥digo testado, de fato,
tem um bug.</li>
<li>Verdadeiro negativo: um teste que passa e o c√≥digo testado, de fato,
est√° correto.</li>
</ul>
<p>Ou seja, com testes, sempre almejamos obter verdadeiro positivos ou
negativos. Um falso positivo indica um bug nos nossos testes. Por fim,
um falso negativo indica que deixamos de testar entradas que levariam o
programa a falhar.</p>
<p>Ainda para ficar mais claro:</p>
<ul>
<li>verdadeiro = teste cujo resultado √© confi√°vel</li>
<li>falso = teste cujo resultado n√£o √© confi√°vel</li>
<li>positivo = teste que falha, isto √©, emite um <q>alerta</q></li>
<li>negativo = teste que passa</li>
</ul>
<h3 class="unnumbered"
id="por-que-n√£o-usam-o-termo-dubl√™-de-testes-no-livro">4. Por que n√£o
usam o termo dubl√™ de testes no livro? <a
href="#por-que-n√£o-usam-o-termo-dubl√™-de-testes-no-livro"
class="anchor-link" aria-hidden="true">üîó</a></h3>
<p>Reconhecemos que <strong>dubl√™</strong> √© um termo usado por diversos
autores, desde que foi descrito no livro do Gerard Meszaros (<em>xUnit
Test Patterns</em>).</p>
<p>Por√©m, achamos que mock √© um termo mais comum, principalmente entre
ferramentas de teste. Veja alguns exemplos:</p>
<ul>
<li><p><em>Jest uses a custom resolver for imports in your tests, making
it simple to <strong>mock any object</strong> outside of your test‚Äôs
scope.</em></p></li>
<li><p><em>Mockito is a <strong>mocking framework</strong> that tastes
really good.</em></p></li>
<li><p><em>unittest.mock ‚Ä¶ allows you to replace parts of your system
under test with <strong>mock objects</strong>.</em></p></li>
</ul>
<p>Ou seja, para ficarmos alinhados com a documenta√ß√£o dessas
ferramentas, preferimos adotar o termo mock.</p>
<p>Al√©m disso, achamos que a diferen√ßa entre os v√°rios tipos de dubl√™s
n√£o √© intuitiva, nem auto-explicativa. Ou seja, n√£o √© t√£o simples
lembrar, no dia a dia, a caracter√≠stica distintiva de um spy, stub,
dummy, fake, etc.</p>
<p>Por outro lado, √© importante ressaltar que acrescentamos, no livro,
uma nota explicando o conceito de dubl√™s e seus diferentes tipos.</p>
<h3 class="unnumbered" id="precisamos-testar-m√©todos-privados">5.
Precisamos testar m√©todos privados? <a
href="#precisamos-testar-m√©todos-privados" class="anchor-link"
aria-hidden="true">üîó</a></h3>
<p>N√£o, pois eles v√£o ser testados quando testarmos os m√©todos p√∫blicos
da classe. Em outras palavras, o foco deve ser testar os m√©todos
p√∫blicos. Por tabela, isso vai garantir que os m√©todos privados tamb√©m
est√£o funcionando.</p>
<h3 class="unnumbered"
id="como-testar-m√©todos-que-t√™m-efeito-colateral">6. Como testar m√©todos
que t√™m efeito colateral? <a
href="#como-testar-m√©todos-que-t√™m-efeito-colateral" class="anchor-link"
aria-hidden="true">üîó</a></h3>
<p>Primeiro, uma r√°pida defini√ß√£o de efeito colateral: o termo designa
m√©todos cuja execu√ß√£o n√£o apenas retorna um valor, mas tamb√©m altera o
contexto de execu√ß√£o. Por exemplo, um m√©todo tem um efeito colateral
quando ele altera o valor de um atributo do seu objeto ou de uma
vari√°vel global, salva um valor em algum arquivo, envia um mail,
etc.</p>
<p>Voltando √† pergunta, temos duas poss√≠veis respostas:</p>
<ul>
<li>Testar se o efeito colateral ocorreu</li>
<li>Implementar um teste comportamental ou de intera√ß√£o</li>
</ul>
<p>Vamos explicar cada um desses casos a seguir.</p>
<h5 class="unnumbered" id="teste-do-efeito-colateral">Teste do efeito
colateral <a href="#teste-do-efeito-colateral" class="anchor-link"
aria-hidden="true">üîó</a></h5>
<p>Suponha um m√©todo <code>push()</code> que altera o estado da sua
pilha, para incluir mais um item. Nesse caso, podemos usar um outro
m√©todo, do pr√≥prio objeto, para testar se o efeito colateral desejado
ocorreu. Por exemplo, um m√©todo <code>size()</code>, que retorna o
tamanho da pilha, pode ajudar. Veja um exemplo:</p>
<pre><code>void testeEmpilhaStack() {
  Stack stack = new Stack();
  stack.push(10);
  stack.push(20);
  stack.push(30);
  int size = stack.size();
  assertEquals(3,size);
}</code></pre>
<p>Veja que o m√©todo <code>push</code> retorna <code>void</code>. Ou
seja, realmente, n√£o conseguimos testar um <code>push</code> de forma
usual: isto √©, chamando-o e verificando se o valor que ele retorna √©
aquele esperado.</p>
<h5 class="unnumbered" id="teste-comportamental-ou-de-intera√ß√£o">Teste
comportamental (ou de intera√ß√£o) <a
href="#teste-comportamental-ou-de-intera√ß√£o" class="anchor-link"
aria-hidden="true">üîó</a></h5>
<p>Suponha agora que um m√©todo envia um mail, que chega na caixa postal
de um outro processo. Normalmente, n√£o √© f√°cil contactar esse processo
para testar se a mensagem, de fato, chegou. Uma poss√≠vel solu√ß√£o
consiste em usar um mock e realizar um tipo de teste chamado de
<strong>teste comportamental</strong> ou <strong>teste de
intera√ß√£o</strong>. Isto √©, testamos se a execu√ß√£o do m√©todo sob teste
chamou algum m√©todo de interesse. No nosso caso, devemos testar se essa
execu√ß√£o chamou o m√©todo que produz o efeito colateral que nos interessa
(o envio de um mail). Veja um exemplo (retirado da Se√ß√£o 8.6.2 do <a
href="https://engsoftmoderna.info/cap8.html#mocks-vs-stubs">Cap√≠tulo
8</a> do livro)</p>
<pre><code>void testeEnvioDeMensagem {
  SomeObject obj = new SomeObject();    
  Mailer m = mock(Mailer.class);
  obj.someBusinessLogic(m);
  verify(m).send(anyString());
}</code></pre>
<p>No teste acima, n√£o testamos o efeito colateral (isto √©, se a
mensagem chegou no destino), mas sim se o m√©todo <code>send</code>,
respons√°vel por enviar a mensagem, foi chamado durante a execu√ß√£o de
<code>someBusinessLogic</code>.</p>
<p>Antes de concluir, gostar√≠amos de mencionar que testes de intera√ß√£o,
como o mostrado acima, s√£o mais fr√°geis, pois eles est√£o acoplados a
detalhes da implementa√ß√£o interna do m√©todo que est√° sendo testado.</p>
<h3 class="unnumbered"
id="como-testar-m√©todos-que-n√£o-t√™m-efeito-colateral">7. Como testar
m√©todos que n√£o t√™m efeito colateral? <a
href="#como-testar-m√©todos-que-n√£o-t√™m-efeito-colateral"
class="anchor-link" aria-hidden="true">üîó</a></h3>
<p>Normalmente, esses s√£o os m√©todos f√°ceis de serem testados: eles
recebem alguns par√¢metros, processam eles e retornam um resultado, sem
alterar absolutamente nada do ambiente de execu√ß√£o. Veja um exemplo:</p>
<pre><code>public void testeMetodoSemEfeitoColateral() {
  String s = &quot;smiles&quot;;
  assertTrue(s.endsWith(&quot;miles&quot;));
}
</code></pre>
<p>Testes como o acima, que apenas verificam o resultado do m√©todo
chamado ‚Äî ou, no m√°ximo, o estado de alguma outra estrutura de dados do
sistema ‚Äî s√£o chamados de <strong>testes de estado</strong>.</p>
<h3 class="unnumbered"
id="quando-preciso-criar-um-mock-para-uma-depend√™ncia">8. Quando preciso
criar um mock para uma depend√™ncia? <a
href="#quando-preciso-criar-um-mock-para-uma-depend√™ncia"
class="anchor-link" aria-hidden="true">üîó</a></h3>
<p>Suponha que temos que testar um m√©todo <code>f</code> da seguinte
classe:</p>
<pre><code>class A {
 
  private D d;   
 
  A(D d) {
    this.d = d;
  } 
 
  public int f(...) {  
    ...
  }
}</code></pre>
<p>A classe <code>A</code> possui uma depend√™ncia <code>d</code> para o
tipo <code>D</code>. Quando precisamos criar um mock para essa
depend√™ncia?</p>
<ul>
<li><p>Quando <code>D</code> √© um servi√ßo lento, como um banco de
dados.</p></li>
<li><p>Quando n√£o √© trivial instanciar um objeto do tipo <code>D</code>.
Por exemplo, a construtora de <code>D</code> pode exigir como par√¢metro
um objeto do tipo <code>E</code>; por sua vez, a construtora de
<code>E</code> pode exigir um objeto do tipo <code>F</code> e assim por
diante.</p></li>
<li><p>Quando <code>D</code> √© um servi√ßo n√£o-determin√≠stico. Por
exemplo, <code>D</code> √© um servi√ßo financeiro cujo resultado varia com
a cota√ß√£o do d√≥lar.</p></li>
<li><p>Quando a execu√ß√£o de um m√©todo de <code>D</code> for importante
para o teste, conforme vimos no teste comportamental da pergunta 4.
Nesse teste, <code>D</code> √© o tipo <code>Mailer</code>e precisamos
testar se a execu√ß√£o de <code>f</code> vai enviar um mail.</p></li>
</ul>
<h3 class="unnumbered"
id="como-criar-um-mock-para-uma-depend√™ncia-privada">9. Como criar um
mock para uma depend√™ncia privada? <a
href="#como-criar-um-mock-para-uma-depend√™ncia-privada"
class="anchor-link" aria-hidden="true">üîó</a></h3>
<p>Se a depend√™ncia for configur√°vel por meio do construtor da classe ou
de um m√©todo <code>set</code> n√£o existe problema.</p>
<p>Por√©m, se a depend√™ncia n√£o for configur√°vel de fora da classe, a√≠
sim temos um problema. Nesse caso, a √∫nica solu√ß√£o √© expor essa
depend√™ncia de forma a permitir a sua configura√ß√£o pelo teste.
Evidentemente, isso pode quebrar o encapsulamento da classe, mas n√£o
existe outra solu√ß√£o.</p>
<h3 class="unnumbered"
id="em-qual-pacote-ou-m√≥dulo-ou-diret√≥rio-devo-colocar-os-testes">10. Em
qual pacote (ou m√≥dulo, ou diret√≥rio) devo colocar os testes? <a
href="#em-qual-pacote-ou-m√≥dulo-ou-diret√≥rio-devo-colocar-os-testes"
class="anchor-link" aria-hidden="true">üîó</a></h3>
<p>Tipicamente, na maioria das linguagens, os testes ficam em um
diret√≥rio separado, apenas com o c√≥digo de testes.</p>
<p>Veja o exemplo do sistema <code>google/guava</code>:</p>
<ul>
<li>As classes e pacotes do sistema ficam em
<code>src/com/google/common</code>.</li>
<li>Os respectivos testes ficam em
<code>test/com/google/common</code>.</li>
</ul>
<h3 class="unnumbered"
id="com-que-frequ√™ncia-devemos-rodar-os-testes">11. Com que frequ√™ncia
devemos rodar os testes? <a
href="#com-que-frequ√™ncia-devemos-rodar-os-testes" class="anchor-link"
aria-hidden="true">üîó</a></h3>
<p>Basicamente, essa resposta depende do tipo de teste!</p>
<p>Por um lado, testes de unidade devem ser executados com grande
frequ√™ncia. Por exemplo, sempre que compilar o c√≥digo, nada impede que
voc√™ tamb√©m execute tais testes. Veja que, por defini√ß√£o, testes de
unidade rodam rapidamente.</p>
<p>No outro extremo, temos os testes de sistema ou testes end-to-end, os
quais devem ser executados com uma frequ√™ncia muito menor. Por exemplo,
os autores do livro Software Engineering at Google afirmam o
seguinte:</p>
<blockquote>
<p>Os times no Google frequentemente isolam os testes maiores,
executando-os somente durante o processo de build e de release, de forma
a n√£o impactar o fluxo de trabalho dos desenvolvedores.</p>
</blockquote>
<p>No meio do caminho, temos os testes de integra√ß√£o. Alguns deles
costumam rodar r√°pido, em alguns minutos. Por√©m, sabemos que existem
tamb√©m testes de integra√ß√£o que levam horas para rodar, o que
inviabiliza a sua execu√ß√£o frequente.</p>
<h3 class="unnumbered"
id="quais-testes-devem-ser-rodados-por-um-servidor-de-integra√ß√£o-cont√≠nua-ci">12.
Quais testes devem ser rodados por um servidor de Integra√ß√£o Cont√≠nua
(CI)? <a
href="#quais-testes-devem-ser-rodados-por-um-servidor-de-integra√ß√£o-cont√≠nua-ci"
class="anchor-link" aria-hidden="true">üîó</a></h3>
<p>A resposta para essa pergunta √© uma consequ√™ncia da resposta da
pergunta anterior. Basicamente, ela √© a seguinte:</p>
<ul>
<li><p>Testes de unidade: com certeza, devem ser executados por um
servidor de CI.</p></li>
<li><p>Testes de sistema, testes end-to-end ou testes de requisitos n√£o
funcionais (tais como testes de performance): normalmente, como s√£o
testes mais lentos, eles n√£o s√£o inclu√≠dos no servi√ßo de CI.</p></li>
<li><p>Testes de integra√ß√£o: aqui a resposta varia, pois existem testes
de integra√ß√£o que rodam r√°pido (por exemplo, em alguns minutos) ou que
levam bem mais tempo para rodar. Ent√£o, se o teste de integra√ß√£o rodar
dentro de um limite de tempo razo√°vel, ele pode ser sim inclu√≠do no
servi√ßo de CI.</p></li>
</ul>
<h3 class="unnumbered" id="para-que-servem-su√≠tes-de-testes">13. Para
que servem su√≠tes de testes? <a href="#para-que-servem-su√≠tes-de-testes"
class="anchor-link" aria-hidden="true">üîó</a></h3>
<p>Uma su√≠te de testes √© um conjunto de testes que pretendemos rodar
juntos. Por exemplo, podemos optar por particionar os testes de um dado
sistema em duas su√≠tes: a primeira com os testes r√°pidos e que ser√£o
executados com frequ√™ncia; e a segunda com testes que demoram mais tempo
e que, por isso mesmo, queremos rodar mais raramente.</p>
<h3 class="unnumbered" id="o-que-√©-um-teste-de-fuma√ßa-smoke-test">14. O
que √© um teste de fuma√ßa (smoke test)? <a
href="#o-que-√©-um-teste-de-fuma√ßa-smoke-test" class="anchor-link"
aria-hidden="true">üîó</a></h3>
<p>√â um teste de sistema, por√©m r√°pido e superficial. O objetivo √©
garantir que n√£o existe um erro grave no funcionamento do sistema. Ou
seja, se n√£o existe um <q>inc√™ndio</q> (ou problema) de grandes
propor√ß√µes e que est√° gerando uma grande quantidade de <q>fuma√ßa</q>.
Por exemplo, um teste de fuma√ßa pode verificar se algumas telas da
aplica√ß√£o est√£o abrindo ou se determinadas APIs respondem a solicita√ß√µes
b√°sicas. Mas, complementando, um teste de fuma√ßa √© um teste
autom√°tico.</p>
<p>Veja a descri√ß√£o do teste de fuma√ßa de uma aplica√ß√£o:</p>
<blockquote>
<p>O nosso teste gera uma requisi√ß√£o HTTP para cada p√°gina da aplica√ß√£o
e ent√£o testamos se o c√≥digo de resposta HTTP retornado est√° correto.
Embora n√£o seja nada sofisticado, ele nos permite responder uma quest√£o
essencial: a aplica√ß√£o est√° rodando?</p>
</blockquote>
<h3 class="unnumbered" id="o-que-√©-um-teste-de-snapshot">15. O que √© um
teste de snapshot? <a href="#o-que-√©-um-teste-de-snapshot"
class="anchor-link" aria-hidden="true">üîó</a></h3>
<p>Esses testes s√£o usados para testar a sa√≠da de componentes visuais,
como, por exemplo, componentes implementados usando-se frameworks como
React, Vue.js, etc.</p>
<p>Na defini√ß√£o acima, o termo sa√≠da refere-se ao leiaute do componente,
conforme representado, por exemplo, em um documento HTML.</p>
<p>Um teste de snapshot funciona ent√£o assim:</p>
<ul>
<li><p>Na primeira vez que o teste for executado, ele simplesmente vai
renderizar o componente que est√° sendo testado e obter a sua sa√≠da em
HTML. Essa sa√≠da textual √© chamada de snapshot e ser√° gravada em um
arquivo espec√≠fico.</p></li>
<li><p>Nas execu√ß√µes seguintes, o teste renderiza de novo o componente
que est√° sendo testado e compara o seu leiaute atual com o snapshot
gravado em disco. Se os dois arquivos forem iguais, o teste vai passar.
Caso contr√°rio, o teste vai falhar e ser√° mostrado o diff dos
arquivos.</p></li>
</ul>
<p>Em caso de falha, o framework de teste oferece um comando para
resetar, isto √©, apagar o snapshot. Feito isso, o processo acima se
repete.</p>
<p>A principal vantagem de testes de snapshot √© que eles podem ser
implementados de forma simples, por meio de pequenos trechos de c√≥digo.
Por outro lado, a principal desvantagem √© a sua fragilidade, pois mesmo
pequenas mudan√ßas no leiaute de uma p√°gina resultam em falsos
positivos.</p>
<p>Por isso, alguns desenvolvedores consideram que testes de snapshot,
na verdade, geram <em>warnings</em> que alertam sobre mudan√ßas na
apresenta√ß√£o de um componente. Esses warnings devem ser analisados para
comprovar se, de fato, eles representam regress√µes ou n√£o. Se n√£o
representarem, os defensores de testes de snapshot argumentam que o
processo de resetar os snapshots √© simples e r√°pido.</p>
<h3 class="unnumbered" id="o-que-s√£o-testes-explorat√≥rios">16. O que s√£o
testes explorat√≥rios? <a href="#o-que-s√£o-testes-explorat√≥rios"
class="anchor-link" aria-hidden="true">üîó</a></h3>
<p>Basicamente, existem dois tipos de testes manuais:</p>
<ul>
<li><p>Testes baseados em Casos de Teste. Um caso de teste documenta o
que deve ser testado, incluindo as entradas que devem ser fornecidas no
teste, como fornecer essas entradas (por exemplo, por meio de quais
telas e campos) e, por fim, eles especificam os resultados esperados.
Logo, supondo a exist√™ncia de casos de teste precisos e completos, mesmo
um testador com pouca experi√™ncia deve ser capaz de testar um sistema de
forma manual.</p></li>
<li><p>Testes Explorat√≥rios. Neste caso, um testador executa e testa um
sistema com um maior grau de liberdade, ou seja, n√£o existe um roteiro
pr√©-definido formado por um conjunto detalhado de casos de teste. Em vez
disso, o testador usa de sua experi√™ncia e habilidade para navegar pelo
sistema e verificar o seu comportamento. Testes explorat√≥rios podem ser
usados para ajudar na escrita de casos de teste (assumindo que iremos
ter testes manuais) e tamb√©m para subsidiar a escrita de testes
automatizados (principalmente, testes de integra√ß√£o e testes
end-to-end).</p></li>
</ul>
<h3 class="unnumbered" id="o-que-√©-um-teste-de-muta√ß√£o">17. O que √© um
Teste de Muta√ß√£o? <a href="#o-que-√©-um-teste-de-muta√ß√£o"
class="anchor-link" aria-hidden="true">üîó</a></h3>
<p>O conceito de teste de muta√ß√£o √© antigo, tendo sido proposto pela
primeira vez em 1978 no seguinte <a
href="https://doi.org/10.1109/C-M.1978.218136">artigo</a>. Para entender
melhor o conceito, o principal ponto que deve ser lembrado √© que um
teste de muta√ß√£o n√£o tem como objetivo detectar bugs no c√≥digo de
produ√ß√£o, tal como ocorre, por exemplo, com testes de unidade,
integra√ß√£o, end-to-end, snapshot, etc.</p>
<p>Em vez disso, testes de muta√ß√£o s√£o usados para avaliar a efetividade
dos testes automatizados que j√° existem no sistema. Ou seja, o
pressuposto √© que voc√™ j√° tem diversos testes e quer saber se eles s√£o
efetivos, isto √©, realmente capazes de detectar bugs e regress√µes.</p>
<p>Para isso, uma ferramenta de testes de muta√ß√£o realiza pequenas
modifica√ß√µes aleat√≥rias no c√≥digo de produ√ß√£o, gerando uma vers√£o do
c√≥digo que √© chamada de <strong>muta√ß√£o</strong>. Por exemplo, muta√ß√µes
podem ser geradas por meio das seguintes opera√ß√µes.</p>
<ul>
<li>Remo√ß√£o ou duplica√ß√£o de algum comando.</li>
<li>Troca de operadores, por exemplo, trocar um operador de adi√ß√£o (+)
por um operador de subtra√ß√£o (-).</li>
<li>Troca de constantes, por exemplo, <code>True</code> por
<code>False</code>.</li>
</ul>
<p>Como as muta√ß√µes s√£o realizadas de forma aleat√≥ria, elas possuem
bugs. E, ent√£o, os testes existentes devem falhar ao serem executados
sobre elas. Se isso n√£o acontecer, podemos concluir que esses testes n√£o
s√£o <q>bons</q> o suficiente.</p>
<p>Teste de muta√ß√£o √© uma t√©cnica de teste caixa-branca, pois o seu
funcionamento requer conhecimento da estrutura interna do c√≥digo das
fun√ß√µes de um sistema. Conforme afirmado, esse conhecimento √© necess√°rio
para gerar as muta√ß√µes.</p>
<p>Cobertura de muta√ß√µes √© uma m√©trica muito usada com esse tipo de
teste. Ela √© assim definida:</p>
<blockquote>
<p>cobertura de muta√ß√µes = n√∫mero de mutantes mortos / total de mutantes
gerados</p>
</blockquote>
<p>Diz-se que um mutante foi morto quando ele foi detectado por algum
teste existente. Assim, idealmente, gostar√≠amos que a cobertura de
muta√ß√µes fosse sempre de 100%.</p>
<p>Um dos principais problemas de um teste de muta√ß√£o √© o seu elevado
custo computacional. Em um sistema real, de m√©dio porte, por exemplo,
podem ser geradas milhares ou dezenas de milhares de muta√ß√µes, que v√£o
demandar horas ou mesmo dias para serem testadas.</p>
<hr />
<p>Voltar para a <a href="https://engsoftmoderna.info">p√°gina principal</a>.</p>
<button onclick="darkMode()">Modo noturno</button>

<script>
function darkMode() {
   var element = document.body;
   element.classList.toggle("dark-mode");
}
</script>

</div>
</div>
</div>

<footer>
Direitos autorais reservados. Vers√£o para uso pessoal.
Para reportar quaisquer erros, incluindo pequenos erros de ortografia, use este <a href="https://forms.gle/KbzvMx5RLnqPR7uq7">formul√°rio</a>.
</footer>
</body>
</html>
