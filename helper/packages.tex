\usepackage[portuguese]{babel}

\usepackage{geometry}
%\geometry{papersize={7in,9in},bottom=3pc,top=5pc,left=5pc,right=5pc,bmargin=4.5pc,footskip=18pt,headsep=25pt}

%Amazon
% 19,05 x 23,5 cm (7,5" x 9,25")
% 1pc = 0.4217cm
% 5pc = 2.10cm
% 6.5pc = 2.74 => 19.05 - (2.74 *2 ) = 13.5
% 7pc = 2.95 => 19.05 - (2.95 * 2) = 13.14


\geometry{papersize={17cm,24cm},bottom=3pc,top=5pc,inner=2.5cm,outer=1.8cm,bmargin=4.5pc,footskip=18pt,headsep=25pt}

\pdfobjcompresslevel=0
%\widowpenalty = 10000

\usepackage[all]{nowidow}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    filecolor=black,      
    urlcolor=black,
}
\urlstyle{same}

\setcounter{tocdepth}{1}

\usepackage{imakeidx}
\makeindex[title=Índice Remissivo, intoc]

\usepackage{csquotes}

\usepackage{listings}
\usepackage{xcolor}

\definecolor{backcolor}{gray}{0.95}

\lstdefinestyle{mystyle}{
   aboveskip=0.25in,
   language=java,
   basicstyle=\footnotesize\ttfamily\upshape,
   commentstyle=\footnotesize\ttfamily\upshape,
   keywordstyle=\color{blue},
   frame=single,
   xrightmargin=0.1in,
   xleftmargin=0.1in,
   showstringspaces=false,
   extendedchars=true,
   literate={á}{{\'a}}1 {â}{{\^a}}1 {ã}{{\~a}}1 {é}{{\'e}}1 {ç}{{\c{c}}}1 {ú}{{\'u}}1 {ó}{{\'o}}1 {í}{{\'i}}1 {Í}{{\'I}}1 {ê}{{\^e}}1
}
\lstset{style=mystyle}

\usepackage{tcolorbox}
\tcbuselibrary{breakable}
\tcbset{boxrule=0.5pt,
        width=5in,
        boxsep=3pt,
        left=5pt,
        right=5pt,
        top=5pt}

\renewenvironment{quote}{\centering \vspace{1.5ex} \begin{tcolorbox}[colback=backcolor, width=4.9in]}{\end{tcolorbox}}

\newenvironment{esmbox}{\centering \vspace{1.5ex} \begin{tcolorbox}[breakable, colback=backcolor, width=4.9in]}{\end{tcolorbox} \vspace{1.5ex}}

\newenvironment{aviso}{\centering \vspace{1.5ex} \begin{tcolorbox}[breakable, colback=backcolor, width=4.9in]}{\end{tcolorbox} \vspace{1.5ex}}

\usepackage[compact]{titlesec}
\titlespacing*{\section}{0pt}{*0}{0pt}
\titlespacing*{\subsection}{0pt}{*0}{0pt}

\usepackage{float}
\let\origfigure\figure
\let\endorigfigure\endfigure
\renewenvironment{figure}[1][2] {
    \expandafter\origfigure\expandafter[!h]
} {
    \endorigfigure
}

\AtBeginDocument{\let\maketitle\relax}