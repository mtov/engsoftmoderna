<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Marco Tulio Valente" />
  <title>Ap√™ndice A: Git ‚Äì Engenharia de Software Moderna</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: 1;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    q { quotes: "‚Äú" "‚Äù" "‚Äò" "‚Äô"; }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-RGYNKH464F"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-RGYNKH464F');
  </script>

  <style>
  .dark-mode {
    background-color: black;
    color: white;
  }
  .dark-mode code {
    background-color: black;
    color: white;
  }    
  </style>

  <link rel="shortcut icon" type="image/x-icon" href="https://engsoftmoderna.info/figs/favicon.ico">

  <link rel="stylesheet" href="https://engsoftmoderna.info/helper/mini-default.min.css">

  <link rel="stylesheet" href="https://engsoftmoderna.info/helper/engsoftmoderna.css">

  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="container">
<div class="row cols-sm-12 col-md-8 col-lg-6">
<div class="col-md-offset-1 col-lg-offset-3">

<p>
<a href="https://engsoftmoderna.info">
<img src="https://engsoftmoderna.info/figs/capa/capa-3d.jpg"></a>
</p>

<p>
<a href="https://engsoftmoderna.info">P√°gina principal do livro</a>
</p>

<p>Compre na

<a href="https://www.amazon.com.br/gp/product/6500019504">Amazon</a>, 

<a href="https://www.submarino.com.br/produto/1768283036/engenharia-de-software-moderna">
      Submarino</a> ou 

<a href="https://loja.umlivro.com.br/engenharia-de-software-moderna-4778188/p">
      UmLivro</a>
</p>

<p>
Veja tamb√©m os cursos de extens√£o a dist√¢ncia 
<a href="http://www.engsoftmoderna.dcc.ufmg.br">Engenharia de Software Moderna</a> (48 horas) e
<a href="http://www.testesoft.dcc.ufmg.br">Teste de Software</a> (20 horas), oferecidos pelo DCC/ICEX/UFMG.</p>

<header id="title-block-header">
<h1 class="title">Engenharia de Software Moderna</h1>
<p class="author">Marco Tulio Valente</p>
</header>
<h1 data-number="1" id="git"><span
class="header-section-number">1</span> Git <a href="#git"
class="anchor-link" aria-hidden="true">üîó</a></h1>
<blockquote>
<p><em>The best way to learn git is probably to first only do very basic
things and not even look at some of the things you can do until you are
familiar and confident about the basics.</em> ‚Äì Linus Torvalds</p>
</blockquote>
<p> Neste ap√™ndice, apresentamos e discutimos exemplos de uso do sistema
Git, que √© o sistema de controle de vers√µes mais usado atualmente.
Inspirados pela frase acima, de Linus Torvalds, criador do Git, vamos
focar nos conceitos e comandos b√°sicos desse sistema. Como sugere a
frase, √© importante dominar esses comandos antes de se aventurar no uso
de comandos mais avan√ßados. Caso o leitor n√£o tenha conhecimento dos
objetivos e vantagens proporcionados por um sistema de controle de
vers√µes, recomendamos primeiro a leitura da se√ß√£o <q>Controle de
Vers√µes</q>, do Cap√≠tulo 10 deste livro.</p>
<h2 data-number="1.1" id="init-clone"><span
class="header-section-number">1.1</span> Init &amp; Clone <a
href="#init-clone" class="anchor-link" aria-hidden="true">üîó</a></h2>
<p> </p>
<p>Para come√ßar a usar o git para gerenciar as vers√µes de um sistema
devemos executar um dos seguintes comandos: <strong>init</strong> ou
<strong>clone</strong>. O comando <code>init</code> cria um reposit√≥rio
vazio. O segundo comando ‚Äî <code>clone</code> ‚Äî primeiro chama
<code>init</code> para criar um reposit√≥rio vazio. Em seguida, ele copia
para esse reposit√≥rio todos os commits de um reposit√≥rio remoto, passado
como par√¢metro. Seja, por exemplo, o seguinte comando:</p>
<p><code>git clone https://github.com/NOME-USER/NOME-REPO</code></p>
<p>Esse comando clona para o diret√≥rio corrente um reposit√≥rio
armazenado remotamente no GitHub. Portanto, devemos usar clone quando
vamos trabalhar em um projeto que j√° est√° em andamento e que j√° possui
commits em um reposit√≥rio central. No exemplo, esse reposit√≥rio √©
disponibilizado pelo GitHub.</p>
<h2 data-number="1.2" id="commit"><span
class="header-section-number">1.2</span> Commit <a href="#commit"
class="anchor-link" aria-hidden="true">üîó</a></h2>
<p></p>
<p>Commits s√£o usados para criar snapshots (ou fotografias) dos arquivos
de um sistema. Uma vez tiradas essas fotografias, elas s√£o armazenadas
no sistema de controle de vers√µes, de forma compactada e otimizada, para
n√£o ocupar muito espa√ßo em disco. Posteriormente, pode-se recuperar
qualquer uma das fotografias, para, por exemplo, restaurar uma
implementa√ß√£o antiga de um determinado arquivo.</p>
<p>Recomenda-se que desenvolvedores realizem commits periodicamente,
sempre que tiverem efetuado uma mudan√ßa importante no c√≥digo. Em
sistemas de controle de vers√µes distribu√≠dos, como o git, os commits s√£o
primeiro armazenados no reposit√≥rio local do desenvolvedor. Por isso, o
custo de um commit √© pequeno e, portanto, desenvolvedores podem realizar
diversos commits ao longo de um dia de trabalho. Na verdade, o que n√£o √©
recomend√°vel √© a realiza√ß√£o de commits grandes, com modifica√ß√µes
importantes em diversos arquivos. Tamb√©m n√£o recomenda-se que um commit
inclua modifica√ß√µes relativas a mais de uma tarefa de manuten√ß√£o. Por
exemplo, n√£o √© recomend√°vel corrigir dois bugs em um mesmo commit. Em
vez disso, cada bug deve ser corrigido em um commit separado. Assim,
facilita-se uma futura an√°lise do c√≥digo, caso, por exemplo, um cliente
volte a reclamar que seu bug n√£o foi corrigido.</p>
<p>Commits tamb√©m possuem metadados, incluindo data, hora, autor e uma
mensagem, que descreve a modifica√ß√£o realizada pelo commit. A pr√≥xima
figura mostra uma p√°gina do GitHub que exibe os metadados principais de
um commit do reposit√≥rio google/guava. Pode-se observar que o commit
refere-se a um refactoring, o que fica claro no seu t√≠tulo. Em seguida,
o refactoring √© explicado em detalhes na mensagem do commit. Na √∫ltima
linha da figura, podemos ver o nome do autor do commit e a informa√ß√£o de
que ele foi realizado h√° 13 dias.</p>
<figure>
<img src="figs/capAp/commit.png" style="width:93.0%"
alt="Commit no GitHub" />
<figcaption aria-hidden="true">Commit no GitHub</figcaption>
</figure>
<p>Na √∫ltima linha da figura tamb√©m podemos observar que todo commit
possui um identificador √∫nico, no caso:</p>
<p><code>1c757483665f0ba8fed31a2af7e31643a4590256</code></p>
<p>Esse identificador possui 20 bytes, normalmente representados em
hexadecimal. Esses bytes correspondem a uma verifica√ß√£o de consist√™ncia
(<em>check sum</em>) do conte√∫do do commit, conforme computado por uma
fun√ß√£o hash SHA-1.</p>
<h2 data-number="1.3" id="add"><span
class="header-section-number">1.3</span> Add <a href="#add"
class="anchor-link" aria-hidden="true">üîó</a></h2>
<p></p>
<p>Na m√°quina local, o sistema git manipula tr√™s √°reas distintas:</p>
<ul>
<li><p>Um <strong>diret√≥rio de trabalho</strong>, onde devemos salvar os
arquivos que pretendemos versionar. √Äs vezes, essa √°rea √© chamada tamb√©m
de √°rvore de trabalho (<em>working tree</em>).</p></li>
<li><p>O <strong>reposit√≥rio</strong> propriamente dito, que armazena o
hist√≥rico de commits.</p></li>
<li><p>Uma √°rea intermedi√°ria, chamada de <strong>index</strong> ou
<strong>stage</strong>, que armazena temporariamente os arquivos que se
pretende versionar. Tais arquivos s√£o ditos rastre√°veis
(<strong>tracked)</strong>.</p></li>
</ul>
<p>Dentre essas tr√™s √°reas, o desenvolvedor acessa apenas o diret√≥rio de
trabalho, que funciona como um diret√≥rio comum do sistema operacional.
As duas outras √°reas s√£o internas ao git e manipuladas exclusivamente
por ele. Como qualquer diret√≥rio, o diret√≥rio de trabalho pode conter
diversos arquivos. Por√©m, apenas aqueles adicionados ao index, por meio
de um <strong>add</strong>, ser√£o gerenciados pelo git.</p>
<p>Al√©m de armazenar a lista de arquivos versionados, o index tamb√©m
armazena o conte√∫do deles. Por isso, antes de fazer um
<code>commit</code> devemos executar um <code>add</code>, para salvar o
conte√∫do do arquivo no index. Feito isso, podemos usar um
<code>commit</code> para salvar no reposit√≥rio local a vers√£o adicionada
ao index. Esse fluxo √© ilustrado na pr√≥xima figura.</p>
<figure>
<img src="figs/capAp/add.svg" style="width:55.0%"
alt="Comandos add e commit" />
<figcaption aria-hidden="true">Comandos <code>add</code> e
<code>commit</code></figcaption>
</figure>
<p><strong>Exemplo</strong>: Suponha o seguinte arquivo simples, mas
suficiente para explicar os comandos <code>add</code> e
<code>commit</code>.</p>
<pre><code>// arq1 
x = 10; </code></pre>
<p>Ap√≥s criar esse arquivo, o desenvolvedor executou o seguinte
comando:</p>
<p><code>git add arq1</code></p>
<p>Esse comando adiciona o arquivo <code>arq1</code> no index (ou
stage). Por√©m, logo em seguida, o desenvolvedor modificou de novo o
arquivo:</p>
<pre><code>// arq1
x = 20; // novo valor de x</code></pre>
<p>Feito isso, ele executou:</p>
<p><code>git commit -m "Alterando o valor de x"</code></p>
<p>A op√ß√£o <code>-m</code> informa a mensagem que descreve o commit.
Por√©m, o ponto que queremos ressaltar com esse exemplo √© o seguinte:
como o usu√°rio n√£o executou um novo <code>add</code> ap√≥s mudar o valor
de <code>x</code> para 20, a vers√£o mais recente do arquivo n√£o ser√°
salva pelo commit. Em vez disso, a vers√£o de <code>arq1</code> que ser√°
versionada √© aquela em que <code>x</code> tem o valor 10, pois ela √© a
vers√£o que consta do index.</p>
<p>Para evitar o problema descrito nesse exemplo, √© comum usar um
<code>commit</code> da seguinte forma:</p>
<p><code>git commit -a -m "Alterando valor de x"</code></p>
<p>A op√ß√£o <code>-a</code> indica que antes de executar o commit
queremos adicionar no index todos os arquivos rastreados
(<em>tracked</em>) que tenham sido modificados desde o √∫ltimo commit.
Portanto, a op√ß√£o <code>-a</code> n√£o elimina a necessidade de usar
<code>add</code>. O uso desse comando continua sendo necess√°rio, pelo
menos uma vez, para indicar ao git que desejamos tornar um determinado
arquivo rastre√°vel.</p>
<p>Da mesma forma que existe um <code>add</code>, tamb√©m existe uma
opera√ß√£o para remover um arquivo de um reposit√≥rio git. Um exemplo √©
dado a seguir:</p>
<pre><code>git rm arq1.txt
git commit -m &quot;Removendo arq1.txt&quot;</code></pre>
<p>Al√©m de remover do reposit√≥rio git local, o comando <code>rm</code>
tamb√©m remove o arquivo do diret√≥rio de trabalho.</p>
<h2 data-number="1.4" id="status-diff-log"><span
class="header-section-number">1.4</span> Status, Diff &amp; Log <a
href="#status-diff-log" class="anchor-link"
aria-hidden="true">üîó</a></h2>
<p> O comando <strong>status</strong> √© um dos comandos git mais usados.
Dentre outras informa√ß√µes, ele mostra o estado do diret√≥rio de trabalho
e do index. Por exemplo, pode-se usar esse comando para obter
informa√ß√µes sobre:</p>
<ul>
<li><p>Arquivos do diret√≥rio de trabalho que foram alterados pelo
desenvolvedor, mas que ele ainda n√£o adicionou no index.</p></li>
<li><p>Arquivos do diret√≥rio de trabalho que n√£o s√£o rastreados pelo
git, ou seja, eles ainda n√£o foram objetos de um
<code>add</code>.</p></li>
<li><p>Arquivos que encontram-se no index, aguardando um
<code>commit</code>.</p></li>
</ul>
<p>O comando <code>git diff</code> √© muito usado para destacar as
modifica√ß√µes realizados nos arquivos do diret√≥rio de trabalho e que
ainda n√£o foram movidas para o index (ou stage). Para cada arquivo
modificado, ele mostra as linhas que foram adicionadas (+) e removidas
(-). Muitas vezes, usamos um <code>git diff</code> antes de um
<code>add</code>/<code>commit</code> para ter certeza das mudan√ßas que
iremos <q>perpetuar</q>, em seguida, no sistema de controle de
vers√µes.</p>
<p> J√° o comando <code>git log</code> lista informa√ß√µes sobre os √∫ltimos
commits, como data, autor, hora e descri√ß√£o do commit.</p>
<h2 data-number="1.5" id="push-pull"><span
class="header-section-number">1.5</span> Push &amp; Pull <a
href="#push-pull" class="anchor-link" aria-hidden="true">üîó</a></h2>
<p> O comando <strong>push</strong> copia os commits mais recentes do
reposit√≥rio local para o reposit√≥rio remoto. Portanto, ele √© uma
opera√ß√£o mais lenta, pois envolve comunica√ß√£o pela rede. Um
<code>push</code> deve ser usado quando o desenvolvedor deseja tornar
uma modifica√ß√£o vis√≠vel para os demais desenvolvedores. Para atualizar
seu reposit√≥rio local, os outros desenvolvedores do time devem executar
um comando <strong>pull</strong>. Esse comando realiza duas opera√ß√µes
principais:</p>
<ul>
<li><p>Primeiro, um <code>pull</code> copia os commits mais recentes do
reposit√≥rio central para o reposit√≥rio local do desenvolvedor. Essa
opera√ß√£o inicial √© chamada de <strong>fetch</strong>.</p></li>
<li><p>Em seguida, o comando <code>pull</code> atualiza os arquivos do
diret√≥rio de trabalho. Essa opera√ß√£o √© chamada de
<strong>merge</strong>.</p></li>
</ul>
<p>A pr√≥xima figura ilustra o funcionamento dos comandos
<code>push</code> e <code>pull</code>.</p>
<figure>
<img src="figs/capAp/push-pull.svg" style="width:55.0%"
alt="Comandos push e pull" />
<figcaption aria-hidden="true">Comandos <code>push</code> e
<code>pull</code></figcaption>
</figure>
<p><strong>Exemplo</strong>: Suponha que no reposit√≥rio git central de
um projeto exista o seguinte arquivo:</p>
<pre><code>void f() {
  ... 
}</code></pre>
<p>Suponha que dois desenvolvedores, chamados Bob e Alice, realizaram um
<code>pull</code> e, portanto, copiaram esse arquivo para o reposit√≥rio
local e para o diret√≥rio de trabalho de suas m√°quinas. A sintaxe desse
comando √© a seguinte:</p>
<p><code>git pull</code></p>
<p>No mesmo dia, Bob implementou uma segunda fun√ß√£o <code>g</code> no
arquivo:</p>
<pre><code>void f() {   // antiga
  ... 
}

void g() {   // implementada por Bob
  ... 
}</code></pre>
<p>Em seguida, Bob realizou um <code>add</code>, um <code>commit</code>
e um <code>push</code>. Esse √∫ltimo comando tem a seguinte sintaxe:</p>
<p><code>git push origin master</code></p>
<p>O par√¢metro <code>origin</code> √© um valor default, usado pelo git,
para indicar o reposit√≥rio remoto, por exemplo, o reposit√≥rio GitHub. J√°
o par√¢metro <code>master</code> indica o branch principal. Iremos
estudar mais sobre branches daqui a pouco.</p>
<p>Ap√≥s executar o comando <code>push</code> acima, a nova vers√£o do
arquivo estar√° salva tamb√©m no reposit√≥rio remoto. Alguns dias depois,
Alice decidiu que precisa alterar esse mesmo arquivo. Como ela ficou um
tempo sem trabalhar no sistema, o recomendado √© que ela execute primeiro
um <code>pull</code>, para atualizar seu reposit√≥rio local e seu
diret√≥rio de trabalho com as mudan√ßas ocorridas nesse per√≠odo, como
aquela realizada por Bob. Assim, ap√≥s esse <code>pull</code>, o arquivo
em quest√£o ser√° atualizado na m√°quina da Alice, para incluir a fun√ß√£o
<code>g</code> implementada por Bob.</p>
<h2 data-number="1.6" id="conflitos-de-merge"><span
class="header-section-number">1.6</span> Conflitos de Merge <a
href="#conflitos-de-merge" class="anchor-link"
aria-hidden="true">üîó</a></h2>
<p> </p>
<p>Conflitos de merge acontecem quando dois desenvolvedores alteram o
mesmo trecho de c√≥digo ao mesmo tempo. Para entender melhor essa
situa√ß√£o, nada melhor do que usar um exemplo.</p>
<p><strong>Exemplo</strong>: Suponha que Bob implementou o seguinte
programa:</p>
<pre><code>main() {
  print(&quot;Helo, world!&quot;);
}</code></pre>
<p>Conclu√≠da a implementa√ß√£o, Bob realizou um <code>add</code>, seguido
de um <code>commit</code> e um <code>push</code>.</p>
<p>Em seguida, Alice realizou um <code>pull</code> e obteve a vers√£o do
arquivo implementada por Bob. Ent√£o, Alice resolveu traduzir a mensagem
do programa para portugu√™s:</p>
<pre><code>main() {
  print(&quot;Ol√°, mundo!&quot;);
}</code></pre>
<p>Enquanto Alice fazia a tradu√ß√£o, Bob percebeu que escreveu Hello de
forma errada, com apenas uma letra l. Por√©m, Alice foi mais r√°pida e
realizou a trinca de comandos <code>add</code>, <code>commit</code> e
<code>push</code>.</p>
<p>Bob, ap√≥s corrigir o erro de ortografia, salvou o arquivo e tamb√©m
executou um <code>add</code>, seguido de um <code>commit</code>. Por
fim, ele executou <code>push</code>, mas o comando falhou com a seguinte
mensagem de erro:</p>
<div class="line-block">Updates were rejected because the remote
contains work that you do<br />
not have locally. This is usually caused by another repository<br />
pushing to the same ref. You may want to first integrate the<br />
remote changes (e.g., git pull ‚Ä¶) before pushing again.</div>
<p>A mensagem √© bem clara: Bob n√£o pode executar um <code>push</code>,
pois o reposit√≥rio remoto possui conte√∫do novo, no caso, gerado por
Alice. Antes de executar um <code>push</code>, Bob precisa executar um
<code>pull</code>. Por√©m, ao fazer isso, ele recebe uma nova mensagem de
erro:</p>
<div class="line-block">CONFLICT (content): Merge conflict in arq2<br />
Automatic merge failed; fix conflicts and then commit the result.</div>
<p>Essa nova mensagem √© tamb√©m clara: existe um conflito de merge no
arquivo <code>arq2</code>. Ao editar esse arquivo, Bob vai perceber que
ele foi modificado pelo git, para destacar as linhas que geraram o
conflito:</p>
<pre><code>main() {                                                
 &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD                                     
 print(&quot;Hello, world!&quot;);                               
 =======                                                 
 print(&quot;Ol√°, mundo!&quot;);                                 
 &gt;&gt;&gt;&gt;&gt;&gt;&gt; f25bce8fea85a625b891c890a8eca003b723f21b 
 }                                                       </code></pre>
<p>As linhas inseridas pelo git devem ser entendidas da seguinte
forma:</p>
<ul>
<li><p>Entre <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code> e
<code>=======</code> temos o c√≥digo modificado por Bob, isto √©, pelo
desenvolvedor que n√£o conseguiu dar um <code>push</code> e teve que dar
um <code>pull</code>. <code>HEAD</code> designa que o c√≥digo foi
modificado no √∫ltimo commit realizado por Bob.</p></li>
<li><p>Entre <code>=======</code> e
<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt; f25bce8 ...</code> temos o c√≥digo
modificado por Alice, isto √©, pela desenvolvedora que executou com
sucesso seu <code>push</code>. <code>f225bce8...</code> √© o ID do commit
no qual Alice modificou essa parte do c√≥digo.</p></li>
</ul>
<p>Cabe ent√£o a Bob resolver o conflito, o que √© sempre uma tarefa
manual. Para isso, ele tem que escolher o trecho de c√≥digo que vai
prevalecer ‚Äî o seu c√≥digo ou o da Alice ‚Äî e editar o arquivo de acordo
com tal escolha, para remover os delimitadores inseridos pelo git.</p>
<p>Vamos supor que Bob decida que o c√≥digo de Alice √© o certo, pois
agora o sistema est√° usando mensagens em portugu√™s. Logo, ele deve
editar o arquivo, de forma que fique assim:</p>
<pre><code>main() {                
  print(&quot;Ol√°, mundo!&quot;);                      
}                       </code></pre>
<p>Veja que Bob removeu os delimitadores inseridos pelo git
(<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;  HEAD</code> , <code>=======</code>
e <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt; f25bce8...</code>). E tamb√©m o
comando <code>print</code> com a mensagem em ingl√™s. Ap√≥s deixar o
c√≥digo da forma correta, Bob deve executar novamente os comandos
<code>add</code>, <code>commit</code> e <code>push</code>, que agora
ser√£o bem sucedidos.</p>
<p>Nesse exemplo, mostramos um conflito simples, que ficou restrito a
√∫nica linha de um √∫nico arquivo. No entanto, um <code>pull</code> pode
dar origem a conflitos mais complexos. Por exemplo, um mesmo arquivo
pode apresentar v√°rios conflitos. E tamb√©m podemos ter conflitos em mais
de um arquivo.</p>
<h2 data-number="1.7" id="branches"><span
class="header-section-number">1.7</span> Branches <a href="#branches"
class="anchor-link" aria-hidden="true">üîó</a></h2>
<p> </p>
<p>O git organiza o diret√≥rio de trabalho em <q>diret√≥rios virtuais</q>,
chamados de <strong>branches</strong>. At√© agora, n√£o precisamos
comentar sobre branches porque todo reposit√≥rio possui um branch
default, chamado de <strong>master</strong>, criado pelo comando
<code>init</code>. Se n√£o nos preocuparmos com branches, todo o
desenvolvimento ocorrer√° no master. Por√©m, em alguns casos, √©
interessante criar outros branches para melhor organizar o
desenvolvimento. Para descrever o conceito de branches, vamos de novo
usar um exemplo.</p>
<p><strong>Exemplo</strong>: Suponha que Bob √© respons√°vel por manter
uma determinada funcionalidade de um sistema. Para simplificar, vamos
assumir que essa funcionalidade √© implementada em uma √∫nica fun√ß√£o
<code>f</code>. Bob teve a ideia de mudar completamente a implementa√ß√£o
de <code>f</code>, de forma que ela passe a usar algoritmos e estruturas
de dados mais eficientes. Para isso, Bob vai precisar de algumas
semanas. No entanto, apesar de estar otimista, Bob n√£o tem certeza de
que a nova implementa√ß√£o vai proporcionar os ganhos que ele imagina. Por
fim, mas n√£o menos importante, durante a implementa√ß√£o do novo c√≥digo,
Bob pode precisar do c√≥digo original de <code>f</code>, para, por
exemplo, corrigir bugs reportados pelos usu√°rios.</p>
<p>Esse √© um cen√°rio interessante para Bob criar um branch para
implementar e testar ‚Äî de forma isolada ‚Äî essa nova vers√£o de
<code>f</code>. Para isso, ele deve usar o comando:</p>
<p><code>git branch f-novo</code></p>
<p>Esse comando cria um novo branch, chamado <code>f-novo</code>,
supondo que esse branch ainda n√£o existe.</p>
<p>Para mudar do branch corrente para um novo branch, deve-se usar
<code>git checkout [nome-branch]</code>. Para descobrir qual o nome do
branch corrente, basta usar <code>git branch</code>. Na verdade, esse
comando lista todos os branches e indica qual deles √© o corrente.</p>
<p>Branches podem ser entendidos como "sub-diret√≥rios virtuais" do
diret√≥rio de trabalho. A principal diferen√ßa √© que branches s√£o
gerenciados pelo git e n√£o pelo sistema operacional. Por isso, optamos
por cham√°-los de virtuais. Explorando mais essa compara√ß√£o, podemos
pensar que o comando <code>git branch [nome]</code> equivale ao comando
<code>mkdir [nome]</code>, com a diferen√ßa que o git n√£o apenas cria um
branch mas copia para ele todos os arquivos do branch pai. Por outro
lado, diret√≥rios s√£o criados vazios pelo sistema operacional. J√° o
comando <code>git checkout [nome]</code> lembra o comando
<code>cd [nome]</code>. E <code>git status</code> lembra um misto de
comandos <code>ls</code> e <code>pwd</code>. Tamb√©m para refor√ßar essa
compara√ß√£o, existem certos comandos que permitem adicionar ao prompt do
sistema operacional n√£o apenas o nome do diret√≥rio corrente mas tamb√©m o
nome do branch corrente. Assim, o prompt pode ser exibido como
<code>~/projetos/sistema/master&gt;</code>.</p>
<p>Por outro lado, existe tamb√©m uma diferen√ßa importante entre branches
e diret√≥rios. Um desenvolvedor somente pode alterar o branch corrente de
A para B se as modifica√ß√µes que ele fez em A estiverem salvas. Isto √©,
se ele tiver realizado antes um <code>add</code> e <code>commit</code>.
Caso ele tenha esquecido de chamar esses comandos, um comando git
checkout B ir√° falhar com a seguinte mensagem de erro:</p>
<div class="line-block">Your local changes to the following files would
be overwritten by checkout:<br />
[list of files]<br />
Please commit your changes or stash them before you switch
branches.</div>
<p>Voltando ao exemplo, ap√≥s Bob ter criado o seu branch, ele deve
proceder do seguinte modo. Quando ele quiser trabalhar na nova
implementa√ß√£o de <code>f</code>, ele deve primeiro mudar o branch
corrente para <code>f-novo</code>. Por outro lado, quando ele precisar
modificar o c√≥digo original de <code>f</code> ‚Äî aquele que est√° em
produ√ß√£o ‚Äî ele deve se certificar de que o branch corrente √© o
<code>master</code>. Independentemente do branch em que estiver, Bob
deve usar <code>add</code> e <code>commit</code> para salvar o estado do
seu trabalho.</p>
<p> Bob vai continuar nesse fluxo, alternando entre os branches
<code>f-novo</code> e <code>master</code>, at√© que a nova implementa√ß√£o
de <code>f</code> esteja conclu√≠da. Quando isso acontecer, Bob vai
precisar copiar o novo c√≥digo de <code>f</code> para o c√≥digo original.
No entanto, como est√° usando branches, ele n√£o precisa realizar essa
opera√ß√£o de forma manual. O git oferece uma opera√ß√£o, chamada
<strong>merge</strong>, que realiza exatamente essa c√≥pia. A sintaxe √© a
seguinte:</p>
<p><code>git merge f-novo</code></p>
<p>Esse comando deve ser chamado no branch que ir√° receber as
modifica√ß√µes realizadas em <code>f-novo</code>. No nosso caso, no branch
master.</p>
<p>Como o leitor j√° deve estar pensando, um merge pode gerar conflitos,
chamados tamb√©m de <strong>conflitos de integra√ß√£o</strong>. No caso
espec√≠fico de merge de branches, esses conflitos v√£o ocorrer quando
tanto o branch que est√° recebendo as modifica√ß√µes (<code>master</code>,
no nosso exemplo) como o branch que est√° sendo integrado
(<code>f-novo</code>, no exemplo) tiverem alterado os mesmos trechos de
c√≥digo. Conforme discutido na Se√ß√£o A.6, o git ir√° delimitar os trechos
com conflitos e caber√° ao desenvolvedor que chamou o <code>merge</code>
resolv√™-los. Isto √©, escolher o c√≥digo que deve prevalecer.</p>
<p>Por fim, ap√≥s realizar o merge, Bob pode remover o branch
<code>f-novo</code>, caso n√£o seja importante manter o hist√≥rico dos
commits realizados para implementar a nova vers√£o de <code>f</code>.
Para deletar <code>f-novo</code>, ele deve executar o seguinte comando
no master:</p>
<p><code>git branch -d f-novo</code></p>
<h3 data-number="1.7.1" id="grafo-de-commits"><span
class="header-section-number">1.7.1</span> Grafo de Commits <a
href="#grafo-de-commits" class="anchor-link"
aria-hidden="true">üîó</a></h3>
<p> </p>
<p>Commits podem possuir zero, um ou mais pais (ou antecessores). Como
ilustra a pr√≥xima figura, o primeiro commit de um reposit√≥rio n√£o possui
pai. J√° um commit de merge possui dois ou mais pais, que representam os
branches que foram unidos. Os demais commits possuem exatamente um nodo
pai.</p>
<p><img src="figs/capAp/branches.svg" style="width:60.0%" /></p>
<p> Um branch nada mais √© do que uma vari√°vel interna do git que cont√©m
o identificador do √∫ltimo commit realizado no branch. Existe ainda uma
vari√°vel chamada <code>HEAD</code>, que aponta para a vari√°vel do branch
atual. Ou seja, <code>HEAD</code> cont√©m o nome da vari√°vel que cont√©m o
identificador do √∫ltimo commit do branch atual. Um exemplo √© mostrado a
seguir:</p>
<p><img src="figs/capAp/head1.svg" style="width:65.0%" /></p>
<p> Nesse exemplo, existem dois branches, representados pelas vari√°veis
<code>MASTER</code> e <code>ISSUE-45</code>. Cada uma delas aponta para
o √∫ltimo commit de seu respectivo branch. A vari√°vel <code>HEAD</code>
aponta para a vari√°vel <code>MASTER</code>. Isso significa que o branch
atual √© o <code>MASTER</code>. Se realizarmos um commit, a configura√ß√£o
mudar√° para:</p>
<p><img src="figs/capAp/head2.svg" style="width:65.0%" /></p>
<p>O novo commit tem identificador 7. Ele foi realizado no
<code>MASTER</code>, j√° que HEAD apontava para a vari√°vel desse branch.
O pai do novo commit pai √© o antigo <code>HEAD</code>, no caso o commit
3. A vari√°vel <code>MASTER</code> avan√ßou e passou a apontar para o novo
commit. Isso significa que, se n√£o mudarmos de branch, o pai do pr√≥ximo
commit ser√° o commit 7.</p>
<p>Por√©m, se mudarmos para o branch <code>ISSUE-45</code>, a
configura√ß√£o ser√° aquela mostrada na pr√≥xima figura. A √∫nica mudan√ßa √©
que a vari√°vel <code>HEAD</code> passou a apontar para a vari√°vel do
novo branch, isto √©, para a vari√°vel <code>ISSUE-45</code>. Isso √©
suficiente para fazer com que o pr√≥ximo commit seja realizado nesse
branch, isto √©, que ela tenha o commit 6 como pai.</p>
<p><img src="figs/capAp/head3.svg" style="width:65.0%" /></p>
<h2 data-number="1.8" id="branches-remotos"><span
class="header-section-number">1.8</span> Branches Remotos <a
href="#branches-remotos" class="anchor-link"
aria-hidden="true">üîó</a></h2>
<p></p>
<p>At√© esse momento, trabalhamos com branches localmente, isto √©, os
branches que discutimos existem apenas no reposit√≥rio local. No entanto,
√© poss√≠vel realizar o <code>push</code> de um branch local para um
reposit√≥rio remoto. Para ilustrar esse recurso, vamos usar um exemplo
semelhante ao da se√ß√£o anterior.</p>
<p><strong>Exemplo:</strong> Suponha que Bob criou um branch, chamado
<code>g-novo</code>, para implementar uma nova funcionalidade. Ele
realizou alguns commits nesse branch e agora gostaria de compartilh√°-lo
com Alice, para que ela implemente parte da nova funcionalidade. Para
isso, Bob deve usar o seguinte <code>push</code>:</p>
<p><code>git push -u origin g-novo</code></p>
<p>Esse comando realiza o <code>push</code> do branch corrente
(<code>g-novo</code>) para o reposit√≥rio remoto, chamado pelo git de
<code>origin</code>. O reposit√≥rio remoto pode, por exemplo, ser um
reposit√≥rio do GitHub. O par√¢metro <code>-u</code> indica que, no
futuro, vamos querer sincronizar os dois reposit√≥rios por meio de um
<code>pull</code> (a letra do par√¢metro vem da palavra
<em>upstream</em>). Essa sintaxe vale apenas para o primeiro
<code>push</code> de um branch remoto. Nos comandos seguintes, pode-se
omitir o <code>-u</code>, isto √©, usar apenas
<code>git  push origin g-novo</code>.</p>
<p>No reposit√≥rio remoto, ser√° criado um branch <code>g-novo</code>.
Para trabalhar nesse branch, Alice deve primeiro cri√°-lo na sua m√°quina
local, mas associado ao branch remoto, por meio dos seguintes comandos,
que devem ser executados no master:</p>
<p><code>git pull</code></p>
<p><code>git checkout -t origin/g-novo</code></p>
<p>O primeiro comando √© necess√°rio para tornar o branch remoto vis√≠vel
na m√°quina local. J√° o segundo comando cria um branch local, chamado
<code>g-novo</code>, que Alice vai usar para rastrear mudan√ßas no branch
remoto <code>origin/g-novo</code>, conforme indica o par√¢metro
<code>-t</code>, que vem da palavra <em>tracking</em>. Em seguida, Alice
pode realizar commits nesse branch. Por fim, quando estiver pronta para
publicar suas mudan√ßas, ela deve executar um <code>push</code>, com a
sintaxe normal, isto √©, sem o par√¢metro <code>-u</code>.</p>
<p>Agora, Bob pode realizar um <code>pull</code>, concluir que a
implementa√ß√£o da nova funcionalidade est√° finalizada e, portanto, pode
ser integrada no master, por meio de um merge. Bob pode tamb√©m deletar
os branches local e remoto, usando os comandos:</p>
<p><code>git branch -d g-novo</code></p>
<p><code>git push origin --delete g-novo</code></p>
<p>E Alice tamb√©m pode deletar seu branch local, chamando apenas:</p>
<p><code>git branch -d g-novo</code></p>
<h2 data-number="1.9" id="pull-requests"><span
class="header-section-number">1.9</span> Pull Requests <a
href="#pull-requests" class="anchor-link" aria-hidden="true">üîó</a></h2>
<p> </p>
<p>Pull requests √© um mecanismo que viabiliza que um branch seja
revisado e discutido antes de ser integrado no branch principal. Quando
se usa pull requests, um desenvolvedor sempre implementa novas
funcionalidades em um branch separado. Conclu√≠da a implementa√ß√£o, ele
n√£o integra imediatamente o novo c√≥digo no branch principal. Antes que
isso ocorra, ele abre uma solicita√ß√£o para que seu branch seja revisado
e aprovado por um segundo desenvolvedor. Essa solicita√ß√£o para revis√£o e
integra√ß√£o de c√≥digo √© chamada de pull request. Trata-se de um mecanismo
mais comum no GitHub, mas que possui equivalente em outros sistemas de
controle de vers√µes.</p>
<p>Modernamente, o processo de revis√£o e integra√ß√£o do c√≥digo de um pull
request ocorre via interface Web, provida, por exemplo, pelo GitHub.
Por√©m, se essa interface n√£o existisse, o revisor teria que come√ßar o
seu trabalho realizando um <code>pull</code> do branch para sua m√°quina
local. Da√≠ ent√£o a origem do nome, isto √©, pull request √© uma
solicita√ß√£o (<em>request</em>) para que um segundo desenvolvedor revise
e integre um determinado branch. Para atender a essa solicita√ß√£o, ele
deve come√ßar realizando um <code>pull</code> do branch.</p>
<p>A seguir, vamos detalhar o processo de submiss√£o e revis√£o de pull
requests por meio de um exemplo.</p>
<p><strong>Exemplo</strong>: Suponha que Bob e Alice s√£o membros de uma
organiza√ß√£o que mant√©m um reposit√≥rio chamado awesome-git, com uma lista
de links interessantes sobre git. Os links ficam armazenados no arquivo
README.md desse reposit√≥rio, isto √©, na sua p√°gina principal, cujo
endere√ßo √© <code>github.com/aserg-ufmg/awesome-git</code>. Qualquer
membro da organiza√ß√£o pode sugerir a adi√ß√£o de links nessa p√°gina. Mas
veja que estamos usando a palavra sugerir. Isto √©, eles n√£o podem fazer
um <code>push</code> diretamente no branch master. Em vez disso, a
sugest√£o de link precisa ser revisada e aprovada por um outro membro do
time.</p>
<p>Bob resolveu ent√£o sugerir a adi√ß√£o, nessa p√°gina, de um link para o
presente ap√™ndice do livro Engenharia de Software Moderna. Para isso,
ele primeiro clonou o reposit√≥rio e criou um branch, chamado
<code>livro-esm</code>, por meio dos seguintes comandos:</p>
<p><code>git clone https://github.com/aserg-ufmg/awesome-git.git</code><br />
<code>git checkout livro-esm</code></p>
<p>Em seguida, Bob editou o arquivo README.md, adicionando a URL do
ap√™ndice. Por fim, ele realizou um <code>add</code>, um
<code>commit</code> e fez um <code>push</code> do branch para o
GitHub:</p>
<p><code>git add README.md</code><br />
<code>git commit -m "Livro ESM"</code><br />
<code>git push -u origin livro-esm</code></p>
<p>Na verdade, esses passos n√£o s√£o novidade em rela√ß√£o ao que vimos na
se√ß√£o anterior. No entanto, as diferen√ßas come√ßam agora. Primeiro, Bob
deve ir na p√°gina do GitHub e selecionar o branch
<code>livro-esm</code>. Feito isso, o GitHub mostrar√° um bot√£o para
cria√ß√£o de pull requests. Bob deve clicar nesse bot√£o e descrever o seu
pull request, como mostra a pr√≥xima figura.</p>
<figure>
<img src="figs/capAp/pull-request.png" style="width:75.0%"
alt="Exemplo de pull request" />
<figcaption aria-hidden="true">Exemplo de pull request</figcaption>
</figure>
<p>Um pull request √© uma solicita√ß√£o para que um outro desenvolvedor
revise e, se for o caso, realize o merge de um branch que voc√™ criou.
Consequentemente, pull requests s√£o um recurso para que uma organiza√ß√£o
passe a adotar <strong>revis√µes de c√≥digo</strong>. Ou seja,
desenvolvedores n√£o integram diretamente o seu c√≥digo no master do
reposit√≥rio remoto. Em vez disso, eles solicitam, via pull requests, que
outros desenvolvedores revisem primeiro esse c√≥digo e ent√£o fa√ßam o
merge.</p>
<p>Na p√°gina do GitHub para cria√ß√£o de pull requests, Bob pode informar
que deseja que seu c√≥digo seja revisado pela Alice. Ela ser√° ent√£o
notificada que existe um pull request esperando sua revis√£o. Tamb√©m via
interface do GitHub, Alice pode revisar os commits do pull request
criado por Bob, inclusive por meio de um diff entre o c√≥digo novo e o
c√≥digo antigo. Se for o caso, Alice pode trocar mensagens com Bob, para
esclarecer d√∫vidas sobre o novo c√≥digo. Mais ainda, ela pode solicitar
mudan√ßas no c√≥digo. Nesse caso, Bob deve providenciar as mudan√ßas e
realizar um novo <code>add</code>, <code>commit</code> e
<code>push</code>. Ent√£o, os novos commit ser√£o automaticamente anexados
ao pull request, para que Alice possa conferir se o seu pedido foi
atendido. Estando a modifica√ß√£o aprovada, Alice pode integrar o c√≥digo
no master, bastando para isso clicar em um dos bot√µes da p√°gina de
revis√£o de pull requests.</p>
<h2 data-number="1.10" id="squash"><span
class="header-section-number">1.10</span> Squash <a href="#squash"
class="anchor-link" aria-hidden="true">üîó</a></h2>
<p></p>
<p>Squash √© um comando que permite unir diversos commits em um √∫nico
commit. √â uma opera√ß√£o recomendada, por exemplo, antes de submeter pull
requests.</p>
<p><strong>Exemplo</strong>: No exemplo anterior, suponha que o pull
request criado por Bob tivesse cinco commits. Mais especificamente, ele
est√° sugerindo o acr√©scimo de cinco novos links no reposit√≥rio
awesome-git, os quais foram coletados por ele ao longo de algumas
semanas. Ap√≥s a descoberta de cada link, Bob executou um commit na sua
m√°quina local. E deixou para realizar o pull request apenas ap√≥s
acumular cinco commits.</p>
<p>Para facilitar a revis√£o de seu pull request por parte de Alice, Bob
pretende unir esses cinco commits em um √∫nico commit. Assim, em vez de
analisar cinco commits, Alice vai ter que analisar apenas um. Por√©m, a
modifica√ß√£o submetida ser√° exatamente a mesma, isto √©, ela consiste na
inclus√£o de cinco novos links na p√°gina. Por√©m, em vez de a solicita√ß√£o
estar distribu√≠da em cinco commits (cada commit, adicionando um √∫nico
link), ela estar√° concentrada em apenas um commit (adicionando cinco
links).</p>
<p>Para realizar um squash, Bob deve chamar:</p>
<p><code>git rebase -i HEAD~5</code></p>
<p>O n√∫mero 5 significa que pretende-se unir os cinco √∫ltimos commits do
branch atual. Um editor de textos ser√° aberto com uma lista contendo o
ID e a descri√ß√£o de cada um, como mostrado a seguir:</p>
<pre><code>pick 16b5fcc Incluindo link 1
pick c964dea Incluindo link 2
pick 06cf8ee Incluindo link 3
pick 396b4a3 Incluindo link 4
pick 9be7fdb Incluindo link 5</code></pre>
<p>Bob deve ent√£o usar o pr√≥prio editor para substituir a palavra pick
por squash, exceto aquela da primeira linha. O arquivo ficar√° ent√£o
assim:</p>
<pre><code>pick 16b5fcc Incluindo link 1
squash c964dea Incluindo link 2
squash 06cf8ee Incluindo link 3
squash 396b4a3 Incluindo link 4
squash 9be7fdb Incluindo link 5</code></pre>
<p>Bob deve ent√£o salvar o arquivo. Automaticamente, um novo editor ser√°
aberto, para ele informar a mensagem do novo commit ‚Äî isto √©, do commit
que junta os cinco commits listados. Uma vez informada a mensagem, Bob
deve salvar o arquivo e, ent√£o, o squash estar√° finalizado.</p>
<h2 data-number="1.11" id="forks"><span
class="header-section-number">1.11</span> Forks <a href="#forks"
class="anchor-link" aria-hidden="true">üîó</a></h2>
<p> </p>
<p>Fork √© o mecanismo que o GitHub oferece para clonar reposit√≥rios
remotos, isto √©, reposit√≥rios armazenados pelo pr√≥prio GitHub. Um fork √©
realizado via interface do GitHub. Na p√°gina de qualquer reposit√≥rio,
existe um bot√£o para realizar essa opera√ß√£o. Se fizermos um fork do
reposit√≥rio torvalds/linux ser√° criado uma c√≥pia desse reposit√≥rio na
nossa conta do GitHub, chamado, por exemplo, mtov/linux.</p>
<p>Como fazemos sempre, vamos usar um exemplo para explicar essa
opera√ß√£o.</p>
<p><strong>Exemplo</strong>: Suponha o reposit√≥rio
<code>github.com/aserg-ufmg/awesome-git</code>, usado no exemplo sobre
pull requests. Suponha ainda uma terceira desenvolvedora, chamada Carol.
Por√©m, como Carol n√£o √© membro da organiza√ß√£o ASERG/UFMG, ela n√£o tem
permiss√£o para realizar <code>push</code> nesse reposit√≥rio, como fez
Bob no exemplo anterior. Apesar disso, Carol acha que na lista atual
falta um link importante e interessante, cuja inclus√£o ela gostaria de
sugerir. Mas relembrando: Carol n√£o pode seguir os mesmos passos usados
por Bob no exemplo anterior, pois ela n√£o tem permiss√£o para dar
<code>push</code> no reposit√≥rio em quest√£o.</p>
<p>Para resolver esse problema, Carol deve come√ßar criando um fork do
reposit√≥rio. Para isso, basta clicar no bot√£o fork, que existe na p√°gina
de qualquer reposit√≥rio no GitHub. Assim, Carol ter√° na sua conta do
GitHub um novo reposit√≥rio, cujo endere√ßo ser√° o seguinte:
github.com/carol/awesome-git. Ela poder√° clonar esse reposit√≥rio para
sua m√°quina local, criar um branch, adicionar o link que deseja na lista
de links e realizar <code>add</code>, <code>commit</code> e
<code>push</code>. Essa √∫ltima opera√ß√£o ser√° realizada no reposit√≥rio
resultante do fork. Por √∫ltimo, Carol deve ir na p√°gina do seu fork no
GitHub e solicitar a cria√ß√£o de um pull request. Como o reposit√≥rio √© um
fork, ela ter√° agora uma op√ß√£o extra: destinar o pull request para o
reposit√≥rio original. Assim, caber√° aos desenvolvedores do reposit√≥rio
original, como Bob e Alice, revisar e, se for o caso, aceitar o pull
request.</p>
<p>Portanto, fork √© um mecanismo que, quando combinado com pull
requests, viabiliza que um projeto de c√≥digo aberto receba contribui√ß√µes
de outros desenvolvedores. Explicando um pouco melhor, um projeto de
c√≥digo aberto pode receber contribui√ß√µes ‚Äî mais especificamente, commits
‚Äî n√£o apenas de seu time de desenvolvedores (Bob e Alice, no nosso
exemplo), mas de um outro desenvolvedor com conta no GitHub (como √© o
caso de Carol).</p>
<h2 class="unnumbered" id="bibliografia">Bibliografia <a
href="#bibliografia" class="anchor-link" aria-hidden="true">üîó</a></h2>
<ul>
<li><p>Scott Chacon; Ben Straub. Pro Git. 2a edi√ß√£o, Apress,
2014.</p></li>
<li><p>Rachel M. Carmena. How to teach Git. Blog post <a
href="https://rachelcarmena.github.io/2018/12/12/how-to-teach-git.html">(link)</a>.</p></li>
</ul>
<h2 class="unnumbered" id="exerc√≠cios-de-fixa√ß√£o">Exerc√≠cios de Fixa√ß√£o
<a href="#exerc√≠cios-de-fixa√ß√£o" class="anchor-link"
aria-hidden="true">üîó</a></h2>
<p>Neste ap√™ndice, mostramos diversos exemplos. Tente reproduzir cada um
deles. Nos exemplos que envolvem reposit√≥rios remotos, a sugest√£o √© usar
um reposit√≥rio do GitHub. Nos exemplos que envolvem dois usu√°rios (Alice
e Bob, por exemplo), a sugest√£o √© criar dois diret√≥rios locais e us√°-los
para reproduzir os comandos de cada usu√°rio.</p>
<h2 class="unnumbered">Perguntas Frequentes</h2>
<p>Veja tamb√©m o <a href="./artigos/git-faq.html">FAQ</a> deste cap√≠tulo.</p>
<p>Este livro foi formatado pelo autor usando o sistemas Pandoc, para
convers√£o de Markdown para LaTeX e, em seguida, gera√ß√£o de um arquivo
PDF. A fonte usada √© Computer Modern, 11pt. A partir dos mesmos arquivos
Markdown s√£o geradas as vers√µes Kindle e HTML.</p>
<button onclick="darkMode()">Modo noturno</button>

<script>
function darkMode() {
   var element = document.body;
   element.classList.toggle("dark-mode");
}
</script>

</div>
</div>
</div>

<footer>
Direitos autorais reservados. Vers√£o para uso pessoal.
Para reportar quaisquer erros, incluindo pequenos erros de ortografia, use este <a href="https://forms.gle/KbzvMx5RLnqPR7uq7">formul√°rio</a>.
</footer>
</body>
</html>
