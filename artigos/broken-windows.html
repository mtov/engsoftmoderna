<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Marco Tulio Valente" />
  <title>Duas Recomendações para Manutenção de Software – Engenharia de Software Moderna</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: 1;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    q { quotes: "“" "”" "‘" "’"; }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-RGYNKH464F"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-RGYNKH464F');
  </script>

  <style>
  .dark-mode {
    background-color: black;
    color: white;
  }
  .dark-mode code {
    background-color: black;
    color: white;
  }    
  </style>

  <link rel="shortcut icon" type="image/x-icon" href="https://engsoftmoderna.info/figs/favicon.ico">

  <link rel="stylesheet" href="https://engsoftmoderna.info/helper/mini-default.min.css">

  <link rel="stylesheet" href="https://engsoftmoderna.info/helper/engsoftmoderna.css">

  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="container">
<div class="row cols-sm-12 col-md-10 col-lg-6">
<div class="col-md-offset-1 col-lg-offset-3">

<p>
<a href="https://engsoftmoderna.info">
<img src="https://engsoftmoderna.info/figs/capa/capa-3d.jpg"></a>
</p>

<p>
<a href="https://engsoftmoderna.info">Página principal do livro</a>
</p>

<p>Compre na

<a href="https://www.amazon.com.br/gp/product/6500019504">Amazon</a> ou
<!--
<a href="https://www.submarino.com.br/produto/1768283036/engenharia-de-software-moderna">
      Submarino</a> ou 
<a href="https://loja.umlivro.com.br/engenharia-de-software-moderna-4778188/p">
      UmLivro</a>
-->
<a href="https://www.casasbahia.com.br/livros/InformaticaCertificacao/livrosdeinformatica/engenharia-de-software-moderna-1513074930.html">Casas Bahia</a>
</p>

<p>
Veja também os cursos de extensão a distância 
<a href="http://www.engsoftmoderna.dcc.ufmg.br">Engenharia de Software Moderna</a> (48 horas) e
<a href="http://www.testesoft.dcc.ufmg.br">Teste de Software</a> (20 horas), oferecidos pelo DCC/UFMG.</p>


<!---
<p>
Veja também nosso <a href="https://engsoftmoderna.info/curso">curso de extensão</a> a distância, com certificados emitidos pelo DCC/UFMG. 
</p>
--->
<header id="title-block-header">
<h1 class="title">Engenharia de Software Moderna</h1>
<p class="author">Marco Tulio Valente</p>
</header>
<h1 data-number="1"
id="duas-recomendações-para-manutenção-de-software"><span
class="header-section-number">1</span> Duas Recomendações para
Manutenção de Software</h1>
<h2 data-number="1.1" id="introdução"><span
class="header-section-number">1.1</span> Introdução</h2>
<p>Neste artigo, vamos apresentar duas recomendações (ou <q>dicas</q>),
propostas originalmente para outras áreas, mas que se aplicam a
manutenção de software. Essas recomendações são conhecidas pelos
seguintes nomes:</p>
<ul>
<li>Teoria das Janelas Quebradas</li>
<li>Regra dos Escoteiros</li>
</ul>
<p>Além de apresentar ambos os conceitos, vamos mostrar que existe uma
conexão entre eles.</p>
<h2 data-number="1.2" id="teoria-das-janelas-quebradas"><span
class="header-section-number">1.2</span> Teoria das Janelas
Quebradas</h2>
<p>A Teoria das Janelas Quebradas é famosa entre criminologistas,
policiais e autoridades da área de segurança. Proposta em 1982 por dois
criminologistas – James Wilson e George Kelling –, ela defende o
seguinte:</p>
<blockquote>
<p>Se uma das janelas de uma casa for quebrada e não for consertada, as
pessoas que passam na rua podem achar que a casa está abandonada e que
ninguém se importa com ela. Então, alguém pode decidir jogar uma pedra e
quebrar mais alguns vidros… Depois de um tempo, muitas janelas podem
estar quebradas, o telhado pode também começar a ter problemas e uma
sensação de abandono vai tomar conta da casa e até mesmo de sua
vizinhança.</p>
</blockquote>
<figure>
<img src="./figs/broken-windows.jpg" style="width:75.0%"
alt="Exemplo de casa abandonada e com janelas quebradas. Créditos: link. Licença CC0 (domínio público)." />
<figcaption aria-hidden="true">Exemplo de casa abandonada e com janelas
quebradas. Créditos:
<a href="https://www.publicdomainpictures.net/en/view-image.php?image=244290&picture=broken-windows-and-tiles">link</a>.
Licença CC0 (domínio público).</figcaption>
</figure>
<p>A mensagem que a teoria tenta passar é que devemos ter <q>tolerância
zero</q> com problemas aparentemente pequenos. Caso contrário, eles
podem se acumular, criando uma espiral de abandono e descontrole.</p>
<p>Apesar de mais discutida entre psicólogos sociais, a Teoria das
Janelas Quebradas aplica-se também a manutenção de software. Um dos
primeiros livros a fazer essa conexão foi <q>O Programador
Pragmático</q>, de Andrew Hunt e David Thomas. Veja o que os autores
dizem:</p>
<blockquote>
<p>Não deixe <q>janelas quebradas</q> (projetos ruins, decisões erradas
ou código ruim) sem reparos. Conserte cada um desses problemas assim que
ele for descoberto. Nós já vimos sistemas bem projetados e funcionais se
deteriorarem rapidamente quando as janelas começam a quebrar. Existem
diversos fatores que podem contribuir para a deterioração de um sistema
de software, mas a negligência acelera esse processo mais rapidamente do
que qualquer outro fator.</p>
</blockquote>
<p>A seguir, listamos mais alguns exemplos de <q>janelas quebradas</q>
que não devem ser toleradas quando almeja-se produzir e manter software
com qualidade:</p>
<ul>
<li>código com bugs conhecidos e graves, mas que mesmo assim entram em
produção.</li>
<li>código que não segue convenções de indentação e regras de nomes para
identificadores.</li>
<li>código que não possui testes.</li>
<li>código que viola a arquitetura planejada do sistema; por exemplo,
que faz chamadas SQL fora do módulo de persistência.</li>
<li>código com <em>code smells</em>, tais como métodos longos, uso
injustificado de variáveis globais, código duplicado, etc.</li>
<li>código com problemas relevantes de desempenho.</li>
<li>código com vulnerabilidades graves de segurança.</li>
<li>etc</li>
</ul>
<h2 data-number="1.3" id="regra-dos-escoteiros"><span
class="header-section-number">1.3</span> Regra dos Escoteiros</h2>
<p>A Regra do Escoteiro foi descrita por Robert Martin no seu livro
<q>Código Limpo</q>. Segundo ele, os escoteiros norte-americanos têm uma
regra simples que pode ser adaptada para o contexto de manutenção de
software. A regra é a seguinte:</p>
<blockquote>
<p>Deixe o acampamento mais limpo do que você o encontrou.</p>
</blockquote>
<p>Ou seja, se você está corrigindo um bug em um sistema ou
implementando uma nova funcionalidade e se depara com uma <q>janela
quebrada</q> – isto é, com algum código de má qualidade – você não deve
simplesmente fechar os olhos. Em vez disso, procure refatorar esse
código, para entregá-lo mais <q>limpo</q> do que o encontrou. Você deve
fazer isso mesmo que não seja o autor do código com problema.</p>
<p>A Regra do Escoteiro relaciona-se com o conceito de
<strong>refactorings oportunistas</strong> que estudamos no
<a href="../cap9.html#pr%C3%A1tica-de-refactoring">Capítulo 9</a> do
livro. A ideia é que refactorings devem ser uma atividade contínua,
realizada <q>no meio</q> de atividades de correção de bugs e de
implementação de novas funcionalidades.</p>
<p>De fato, em um trabalho que publicamos em 2016 sobre motivações para
refactorings (<a href="https://arxiv.org/abs/1607.02459">link</a>),
diversos desenvolvedores nos reportaram que têm a preocupação de deixar
o código mais limpo, após uma tarefa de manutenção. Eles não mencionaram
explicitamente a Regra dos Escoteiros, mas suas respostas estão
perfeitamente alinhadas com o propósito da regra. Veja exemplos de
respostas:</p>
<blockquote>
<p>Quando eu estava corrigindo uma exceção, eu percebi que deveria
adicionar o mesmo código em dois lugares. Em vez de fazer isso, eu
extraí esse código para um método e apliquei a correção apenas nele.</p>
</blockquote>
<blockquote>
<p>O método [em que eu estava trabalhando] era muito grande e não cabia
na minha tela. Então eu extraí uma parte dele.</p>
</blockquote>
<blockquote>
<p>Esses refactorings foram aplicados para reusar código. Eu sempre
tento fazer isso, porque quando existe muita redundância torna-se
terrivelmente mais complicado manter o código no futuro.</p>
</blockquote>
<h2 class="unnumbered" id="exercícios">Exercícios</h2>
<p>1. Qual o nome do refactoring aplicado nas duas primeiras respostas
de desenvolvedores mencionadas na seção sobre a Regra dos
Escoteiros.</p>
<hr />
<p>Voltar para a lista de <a href="./artigos.html">artigos</a>.</p>
<button onclick="darkMode()">Modo noturno</button>

<script>
function darkMode() {
   var element = document.body;
   element.classList.toggle("dark-mode");
}
</script>

</div>
</div>
</div>

<footer>
Direitos autorais reservados. Versão para uso pessoal.
Para reportar quaisquer erros, incluindo pequenos erros de ortografia, use este <a href="https://forms.gle/KbzvMx5RLnqPR7uq7">formulário</a>.
</footer>
</body>
</html>
