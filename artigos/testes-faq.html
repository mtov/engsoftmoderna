<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Marco Tulio Valente" />
  <title>Perguntas Frequentes sobre Testes de Software – Engenharia de Software Moderna</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    q { quotes: "“" "”" "‘" "’"; }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-8249107-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-8249107-3', {'anonymize_ip': true});
  </script>

  <script>
  var trackOutboundLink = function(url, action, category) {
      gtag('event', action, {
        'event_category': category,
        'event_label': url,
        'transport_type': 'beacon',
        'event_callback': function(){document.location = url;}
      });
  }
  </script>

  <link rel="shortcut icon" type="image/x-icon" href="https://engsoftmoderna.info/figs/favicon.ico">

  <link rel="stylesheet" href="https://engsoftmoderna.info/helper/mini-default.min.css">

  <link rel="stylesheet" href="https://engsoftmoderna.info/helper/engsoftmoderna.css">

  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="container">
<div class="row cols-sm-12 col-md-8 col-lg-6">
<div class="col-md-offset-1 col-lg-offset-3">

<p>
<a href="https://engsoftmoderna.info">
<img src="https://engsoftmoderna.info/figs/capa/capa-3d.jpg"></a>
</p>

<p>
<a href="https://engsoftmoderna.info">Página principal do livro</a>
</p>

<p>Compre na

<a href="https://www.amazon.com.br/gp/product/6500019504">Amazon</a>, 

<a href="https://www.submarino.com.br/produto/1768283036/engenharia-de-software-moderna">
      Submarino</a> ou 

<a href="https://loja.umlivro.com.br/engenharia-de-software-moderna-4778188/p">
      UmLivro</a>
</p>

<p>
Veja também os cursos de extensão a distância 
<a href="http://www.engsoftmoderna.dcc.ufmg.br">Engenharia de Software Moderna</a> (48 horas) e
<a href="http://www.testesoft.dcc.ufmg.br">Teste de Software</a> (20 horas), oferecidos pelo DCC/ICEX/UFMG.</p>

<header id="title-block-header">
<h1 class="title">Engenharia de Software Moderna</h1>
<p class="author">Marco Tulio Valente</p>
</header>
<h1 class="unnumbered" id="perguntas-frequentes-sobre-testes">Perguntas
Frequentes sobre Testes <a href="#perguntas-frequentes-sobre-testes"
class="anchor-link" aria-hidden="true">🔗</a></h1>
<p>O objetivo deste artigo é responder algumas perguntas frequentes que
são feitas sobre o <a href="../cap8.html">Capítulo 8</a> do livro. No
entanto, estamos interessados apenas em perguntas conceituais,
principalmente sobre os três tipos de testes abordados no capítulo:
<strong>unidade, integração e sistema</strong>. Também, não pretendemos
abordar questões específicas de um framework de testes ou de qualquer
outra tecnologia.</p>
<p>A lista atual de perguntas está organizada em quatro grandes
temas:</p>
<h5 class="unnumbered"
id="perguntas-sobre-conceitos-de-testes">Perguntas sobre conceitos de
testes <a href="#perguntas-sobre-conceitos-de-testes"
class="anchor-link" aria-hidden="true">🔗</a></h5>
<ol type="1">
<li><a href="#o-certo-%C3%A9-teste-de-unidade-ou-teste-unit%C3%A1rio">O
certo é teste de unidade ou teste unitário?</a></li>
<li><a href="#o-que-%C3%A9-uma-unidade">O que é uma unidade?</a></li>
<li><a
href="#no-contexto-de-testes-o-que-significam-os-termos-falso-positivonegativo-e-verdadeiro-positivonegativo">No
contexto de testes, o que significam os termos falso positivo/negativo e
verdadeiro positivo/negativo?</a></li>
<li><a
href="#por-que-n%C3%A3o-usam-o-termo-dubl%C3%AA-de-testes-no-livro">Por
que não usam o termo dublê de testes no livro?</a></li>
</ol>
<h5 class="unnumbered"
id="perguntas-sobre-a-escrita-de-testes">Perguntas sobre a escrita de
testes <a href="#perguntas-sobre-a-escrita-de-testes"
class="anchor-link" aria-hidden="true">🔗</a></h5>
<ol start="5" type="1">
<li><a href="#precisamos-testar-m%C3%A9todos-privados">Precisamos testar
métodos privados?</a></li>
<li><a
href="#como-testar-m%C3%A9todos-que-t%C3%AAm-efeito-colateral">Como
testar métodos que têm efeito colateral?</a></li>
<li><a
href="#como-testar-m%C3%A9todos-que-n%C3%A3o-t%C3%AAm-efeito-colateral">Como
testar métodos que não têm efeito colateral?</a></li>
<li><a
href="#quando-preciso-criar-um-mock-para-uma-depend%C3%AAncia">Quando
preciso criar um mock para uma dependência?</a></li>
<li><a href="#como-criar-um-mock-para-uma-depend%C3%AAncia-privada">Como
criar um mock para uma dependência privada?</a></li>
<li><a
href="#em-qual-pacote-ou-m%C3%B3dulo-ou-diret%C3%B3rio-devo-colocar-os-testes">Em
qual pacote (ou módulo, ou diretório) devo colocar os testes?</a></li>
</ol>
<h5 class="unnumbered"
id="perguntas-sobre-a-execução-de-testes">Perguntas sobre a execução de
testes <a href="#perguntas-sobre-a-execução-de-testes"
class="anchor-link" aria-hidden="true">🔗</a></h5>
<ol start="11" type="1">
<li><a href="#com-que-frequ%C3%AAncia-devemos-rodar-os-testes">Com que
frequência devemos rodar os testes?</a></li>
<li><a
href="#quais-testes-devem-ser-rodados-por-um-servidor-de-integra%C3%A7%C3%A3o-cont%C3%ADnua-ci">Quais
testes devem ser rodados por um servidor de Integração Contínua
(CI)?</a></li>
<li><a href="#para-que-servem-su%C3%ADtes-de-testes">Para que servem
suítes de testes?</a></li>
</ol>
<h5 class="unnumbered"
id="perguntas-sobre-outros-tipos-de-testes">Perguntas sobre outros tipos
de testes <a href="#perguntas-sobre-outros-tipos-de-testes"
class="anchor-link" aria-hidden="true">🔗</a></h5>
<ol start="14" type="1">
<li><a href="#o-que-%C3%A9-um-teste-de-fuma%C3%A7a-smoke-test">O que é
um teste de fumaça (smoke test)?</a></li>
<li><a href="#o-que-%C3%A9-um-teste-de-snapshot">O que é um teste de
snapshot?</a></li>
</ol>
<p>Segue a lista de perguntas e suas respostas.</p>
<hr />
<h3 class="unnumbered"
id="o-certo-é-teste-de-unidade-ou-teste-unitário">1. O certo é teste de
unidade ou teste unitário? <a
href="#o-certo-é-teste-de-unidade-ou-teste-unitário" class="anchor-link"
aria-hidden="true">🔗</a></h3>
<p>Os dois termos são usados. Então, assumindo que a língua é uma
entidade viva e dinâmica, não consideramos errado usar qualquer um
deles. Dito isso, preferimos teste de unidade, porque teste unitário
pode passar a ideia errada de que temos um único teste no sistema.</p>
<h3 class="unnumbered" id="o-que-é-uma-unidade">2. O que é uma unidade?
<a href="#o-que-é-uma-unidade" class="anchor-link"
aria-hidden="true">🔗</a></h3>
<p>No contexto de testes de unidade, a definição de unidade não é
totalmente objetiva. Tendemos a dizer que uma unidade é uma classe, no
caso de sistemas orientados a objetos. No entanto, não precisamos ser
dogmáticos e podemos considerar que certos testes vão testar um
<strong>conjunto de classes</strong>. O fundamental é que tais testes
atendam aos princípios FIRST, principalmente aqueles associados às três
primeiras letras: rápidos, independentes e repetíveis (ou
determinísticos). Mais detalhes sobre esses princípios na Seção 8.3.1 do
<a href="../cap8.html#princ%C3%ADpios-first">Capítulo 8</a>.</p>
<h3 class="unnumbered"
id="no-contexto-de-testes-o-que-significam-os-termos-falso-positivonegativo-e-verdadeiro-positivonegativo">3.
No contexto de testes, o que significam os termos falso
positivo/negativo e verdadeiro positivo/negativo? <a
href="#no-contexto-de-testes-o-que-significam-os-termos-falso-positivonegativo-e-verdadeiro-positivonegativo"
class="anchor-link" aria-hidden="true">🔗</a></h3>
<p>Seguem as definições:</p>
<ul>
<li>Falso positivo: um teste que falha, embora o código testado esteja
correto.</li>
<li>Falso negativo: um teste que passa, apesar de o código testado ter
um bug.</li>
<li>Verdadeiro positivo: um teste que falha e o código testado, de fato,
tem um bug.</li>
<li>Verdadeiro negativo: um teste que passa e o código testado, de fato,
está correto.</li>
</ul>
<p>Ou seja, com testes, sempre almejamos obter verdadeiro positivos ou
negativos. Um falso positivo indica um bug nos nossos testes. Por fim,
um falso negativo indica que deixamos de testar entradas que levariam o
programa a falhar.</p>
<p>Ainda para ficar mais claro:</p>
<ul>
<li>verdadeiro = teste cujo resultado é confiável</li>
<li>falso = teste cujo resultado não é confiável</li>
<li>positivo = teste que falha, isto é, emite um <q>alerta</q></li>
<li>negativo = teste que passa</li>
</ul>
<h3 class="unnumbered"
id="por-que-não-usam-o-termo-dublê-de-testes-no-livro">4. Por que não
usam o termo dublê de testes no livro? <a
href="#por-que-não-usam-o-termo-dublê-de-testes-no-livro"
class="anchor-link" aria-hidden="true">🔗</a></h3>
<p>Reconhecemos que <strong>dublê</strong> é um termo usado por diversos
autores, desde que foi descrito no livro do Gerard Meszaros (<em>xUnit
Test Patterns</em>).</p>
<p>Porém, achamos que mock é um termo mais comum, principalmente entre
ferramentas de teste. Veja alguns exemplos:</p>
<ul>
<li><p><em>Jest uses a custom resolver for imports in your tests, making
it simple to <strong>mock any object</strong> outside of your test’s
scope.</em></p></li>
<li><p><em>Mockito is a <strong>mocking framework</strong> that tastes
really good.</em></p></li>
<li><p><em>unittest.mock … allows you to replace parts of your system
under test with <strong>mock objects</strong>.</em></p></li>
</ul>
<p>Ou seja, para ficarmos alinhados com a documentação dessas
ferramentas, preferimos adotar o termo mock.</p>
<p>Além disso, achamos que a diferença entre os vários tipos de dublês
não é intuitiva, nem auto-explicativa. Ou seja, não é tão simples
lembrar, no dia a dia, a característica distintiva de um spy, stub,
dummy, fake, etc.</p>
<p>Por outro lado, é importante ressaltar que acrescentamos, no livro,
uma nota explicando o conceito de dublês e seus diferentes tipos.</p>
<h3 class="unnumbered" id="precisamos-testar-métodos-privados">5.
Precisamos testar métodos privados? <a
href="#precisamos-testar-métodos-privados" class="anchor-link"
aria-hidden="true">🔗</a></h3>
<p>Não, pois eles vão ser testados quando testarmos os métodos públicos
da classe. Em outras palavras, o foco deve ser testar os métodos
públicos. Por tabela, isso vai garantir que os métodos privados também
estão funcionando.</p>
<h3 class="unnumbered"
id="como-testar-métodos-que-têm-efeito-colateral">6. Como testar métodos
que têm efeito colateral? <a
href="#como-testar-métodos-que-têm-efeito-colateral" class="anchor-link"
aria-hidden="true">🔗</a></h3>
<p>Primeiro, uma rápida definição de efeito colateral: o termo designa
métodos cuja execução não apenas retorna um valor, mas também altera o
contexto de execução. Por exemplo, um método tem um efeito colateral
quando ele altera o valor de um atributo do seu objeto ou de uma
variável global, salva um valor em algum arquivo, envia um mail,
etc.</p>
<p>Voltando à pergunta, temos duas possíveis respostas:</p>
<ul>
<li>Testar se o efeito colateral ocorreu</li>
<li>Implementar um teste comportamental ou de interação</li>
</ul>
<p>Vamos explicar cada um desses casos a seguir.</p>
<h5 class="unnumbered" id="teste-do-efeito-colateral">Teste do efeito
colateral <a href="#teste-do-efeito-colateral" class="anchor-link"
aria-hidden="true">🔗</a></h5>
<p>Suponha um método <code>push()</code> que altera o estado da sua
pilha, para incluir mais um item. Nesse caso, podemos usar um outro
método, do próprio objeto, para testar se o efeito colateral desejado
ocorreu. Por exemplo, um método <code>size()</code>, que retorna o
tamanho da pilha, pode ajudar. Veja um exemplo:</p>
<pre><code>void testeEmpilhaStack() {
  Stack stack = new Stack();
  stack.push(10);
  stack.push(20);
  stack.push(30);
  int size = stack.size();
  assertEquals(3,size);
}</code></pre>
<p>Veja que o método <code>push</code> retorna <code>void</code>. Ou
seja, realmente, não conseguimos testar um <code>push</code> de forma
usual: isto é, chamando-o e verificando se o valor que ele retorna é
aquele esperado.</p>
<h5 class="unnumbered" id="teste-comportamental-ou-de-interação">Teste
comportamental (ou de interação) <a
href="#teste-comportamental-ou-de-interação" class="anchor-link"
aria-hidden="true">🔗</a></h5>
<p>Suponha agora que um método envia um mail, que chega na caixa postal
de um outro processo. Normalmente, não é fácil contactar esse processo
para testar se a mensagem, de fato, chegou. Uma possível solução
consiste em usar um mock e realizar um tipo de teste chamado de
<strong>teste comportamental</strong> ou <strong>teste de
interação</strong>. Isto é, testamos se a execução do método sob teste
chamou algum método de interesse. No nosso caso, devemos testar se essa
execução chamou o método que produz o efeito colateral que nos interessa
(o envio de um mail). Veja um exemplo (retirado da Seção 8.6.2 do <a
href="../cap8.html#mocks-vs-stubs">Capítulo 8</a> do livro)</p>
<pre><code>void testeEnvioDeMensagem {
  SomeObject obj = new SomeObject();    
  Mailer m = mock(Mailer.class);
  obj.someBusinessLogic(m);
  verify(m).send(anyString());
}</code></pre>
<p>No teste acima, não testamos o efeito colateral (isto é, se a
mensagem chegou no destino), mas sim se o método <code>send</code>,
responsável por enviar a mensagem, foi chamado durante a execução de
<code>someBusinessLogic</code>.</p>
<p>Antes de concluir, gostaríamos de mencionar que testes de interação,
como o mostrado acima, são mais frágeis, pois eles estão acoplados a
detalhes da implementação interna do método que está sendo testado.</p>
<h3 class="unnumbered"
id="como-testar-métodos-que-não-têm-efeito-colateral">7. Como testar
métodos que não têm efeito colateral? <a
href="#como-testar-métodos-que-não-têm-efeito-colateral"
class="anchor-link" aria-hidden="true">🔗</a></h3>
<p>Normalmente, esses são os métodos fáceis de serem testados: eles
recebem alguns parâmetros, processam eles e retornam um resultado, sem
alterar absolutamente nada do ambiente de execução. Veja um exemplo:</p>
<pre><code>public void testeMetodoSemEfeitoColateral() {
  String s = &quot;smiles&quot;;
  assertTrue(s.endsWith(&quot;miles&quot;));
}
</code></pre>
<p>Testes como o acima, que apenas verificam o resultado do método
chamado — ou, no máximo, o estado de alguma outra estrutura de dados do
sistema — são chamados de <strong>testes de estado</strong>.</p>
<h3 class="unnumbered"
id="quando-preciso-criar-um-mock-para-uma-dependência">8. Quando preciso
criar um mock para uma dependência? <a
href="#quando-preciso-criar-um-mock-para-uma-dependência"
class="anchor-link" aria-hidden="true">🔗</a></h3>
<p>Suponha que temos que testar um método <code>f</code> da seguinte
classe:</p>
<pre><code>class A {
 
  private D d;   
 
  A(D d) {
    this.d = d;
  } 
 
  public int f(...) {  
    ...
  }
}</code></pre>
<p>A classe <code>A</code> possui uma dependência <code>d</code> para o
tipo <code>D</code>. Quando precisamos criar um mock para essa
dependência?</p>
<ul>
<li><p>Quando <code>D</code> é um serviço lento, como um banco de
dados.</p></li>
<li><p>Quando não é trivial instanciar um objeto do tipo <code>D</code>.
Por exemplo, a construtora de <code>D</code> pode exigir como parâmetro
um objeto do tipo <code>E</code>; por sua vez, a construtora de
<code>E</code> pode exigir um objeto do tipo <code>F</code> e assim por
diante.</p></li>
<li><p>Quando <code>D</code> é um serviço não-determinístico. Por
exemplo, <code>D</code> é um serviço financeiro cujo resultado varia com
a cotação do dólar.</p></li>
<li><p>Quando a execução de um método de <code>D</code> for importante
para o teste, conforme vimos no teste comportamental da pergunta 4.
Nesse teste, <code>D</code> é o tipo <code>Mailer</code>e precisamos
testar se a execução de <code>f</code> vai enviar um mail.</p></li>
</ul>
<h3 class="unnumbered"
id="como-criar-um-mock-para-uma-dependência-privada">9. Como criar um
mock para uma dependência privada? <a
href="#como-criar-um-mock-para-uma-dependência-privada"
class="anchor-link" aria-hidden="true">🔗</a></h3>
<p>Se a dependência for configurável por meio do construtor da classe ou
de um método <code>set</code> não existe problema.</p>
<p>Porém, se a dependência não for configurável de fora da classe, aí
sim temos um problema. Nesse caso, a única solução é expor essa
dependência de forma a permitir a sua configuração pelo teste.
Evidentemente, isso pode quebrar o encapsulamento da classe, mas não
existe outra solução.</p>
<h3 class="unnumbered"
id="em-qual-pacote-ou-módulo-ou-diretório-devo-colocar-os-testes">10. Em
qual pacote (ou módulo, ou diretório) devo colocar os testes? <a
href="#em-qual-pacote-ou-módulo-ou-diretório-devo-colocar-os-testes"
class="anchor-link" aria-hidden="true">🔗</a></h3>
<p>Tipicamente, na maioria das linguagens, os testes ficam em um
diretório separado, apenas com o código de testes.</p>
<p>Veja o exemplo do sistema <code>google/guava</code>:</p>
<ul>
<li>As classes e pacotes do sistema ficam em
<code>src/com/google/common</code>.</li>
<li>Os respectivos testes ficam em
<code>test/com/google/common</code>.</li>
</ul>
<h3 class="unnumbered"
id="com-que-frequência-devemos-rodar-os-testes">11. Com que frequência
devemos rodar os testes? <a
href="#com-que-frequência-devemos-rodar-os-testes" class="anchor-link"
aria-hidden="true">🔗</a></h3>
<p>Basicamente, essa resposta depende do tipo de teste!</p>
<p>Por um lado, testes de unidade devem ser executados com grande
frequência. Por exemplo, sempre que compilar o código, nada impede que
você também execute tais testes. Veja que, por definição, testes de
unidade rodam rapidamente.</p>
<p>No outro extremo, temos os testes de sistema ou testes end-to-end, os
quais devem ser executados com uma frequência muito menor. Por exemplo,
os autores do livro Software Engineering at Google afirmam o
seguinte:</p>
<blockquote>
<p>Os times no Google frequentemente isolam os testes maiores,
executando-os somente durante o processo de build e de release, de forma
a não impactar o fluxo de trabalho dos desenvolvedores.</p>
</blockquote>
<p>No meio do caminho, temos os testes de integração. Alguns deles
costumam rodar rápido, em alguns minutos. Porém, sabemos que existem
também testes de integração que levam horas para rodar, o que
inviabiliza a sua execução frequente.</p>
<h3 class="unnumbered"
id="quais-testes-devem-ser-rodados-por-um-servidor-de-integração-contínua-ci">12.
Quais testes devem ser rodados por um servidor de Integração Contínua
(CI)? <a
href="#quais-testes-devem-ser-rodados-por-um-servidor-de-integração-contínua-ci"
class="anchor-link" aria-hidden="true">🔗</a></h3>
<p>A resposta para essa pergunta é uma consequência da resposta da
pergunta anterior. Basicamente, ela é a seguinte:</p>
<ul>
<li><p>Testes de unidade: com certeza, devem ser executados por um
servidor de CI.</p></li>
<li><p>Testes de sistema, testes end-to-end ou testes de requisitos não
funcionais (tais como testes de performance): normalmente, como são
testes mais lentos, eles não são incluídos no serviço de CI.</p></li>
<li><p>Testes de integração: aqui a resposta varia, pois existem testes
de integração que rodam rápido (por exemplo, em alguns minutos) ou que
levam bem mais tempo para rodar. Então, se o teste de integração rodar
dentro de um limite de tempo razoável, ele pode ser sim incluído no
serviço de CI.</p></li>
</ul>
<h3 class="unnumbered" id="para-que-servem-suítes-de-testes">13. Para
que servem suítes de testes? <a href="#para-que-servem-suítes-de-testes"
class="anchor-link" aria-hidden="true">🔗</a></h3>
<p>Uma suíte de testes é um conjunto de testes que pretendemos rodar
juntos. Por exemplo, podemos optar por particionar os testes de um dado
sistema em duas suítes: a primeira com os testes rápidos e que serão
executados com frequência; e a segunda com testes que demoram mais tempo
e que, por isso mesmo, queremos rodar mais raramente.</p>
<h3 class="unnumbered" id="o-que-é-um-teste-de-fumaça-smoke-test">14. O
que é um teste de fumaça (smoke test)? <a
href="#o-que-é-um-teste-de-fumaça-smoke-test" class="anchor-link"
aria-hidden="true">🔗</a></h3>
<p>É um teste de sistema, porém rápido e superficial. O objetivo é
garantir que não existe um erro grave no funcionamento do sistema. Ou
seja, se não existe um <q>incêndio</q> (ou problema) de grandes
proporções e que está gerando uma grande quantidade de <q>fumaça</q>.
Por exemplo, um teste de fumaça pode verificar se algumas telas da
aplicação estão abrindo ou se determinadas APIs respondem a solicitações
básicas. Mas, complementando, um teste de fumaça é um teste
automático.</p>
<p>Veja a descrição do teste de fumaça de uma aplicação:</p>
<blockquote>
<p>O nosso teste gera uma requisição HTTP para cada página da aplicação
e então testamos se o código de resposta HTTP retornado está correto.
Embora não seja nada sofisticado, ele nos permite responder uma questão
essencial: a aplicação está rodando?</p>
</blockquote>
<h3 class="unnumbered" id="o-que-é-um-teste-de-snapshot">15. O que é um
teste de snapshot? <a href="#o-que-é-um-teste-de-snapshot"
class="anchor-link" aria-hidden="true">🔗</a></h3>
<p>Esses testes são usados para testar a saída de componentes visuais,
como, por exemplo, componentes implementados usando-se frameworks como
React, Vue.js, etc.</p>
<p>Na definição acima, o termo saída refere-se ao leiaute do componente,
conforme definido, por exemplo, por um fragmento de código em HTML ou
JSON.</p>
<p>Um teste de snapshot funciona então assim:</p>
<ul>
<li><p>Na primeira vez que o teste for executado, ele simplesmente vai
renderizar o componente que está sendo testado e obter a sua saída em
HTML. Essa saída textual é chamada de snapshot e será gravada em um
arquivo específico.</p></li>
<li><p>Nas execuções seguintes, o teste renderiza de novo o componente
que está sendo testado e compara o seu leiaute atual com o snapshot
gravado em disco. Se os dois arquivos forem iguais, o teste vai passar.
Caso contrário, o teste vai falhar e será mostrado o diff dos
arquivos.</p></li>
</ul>
<p>Em caso de falha, o framework de teste oferece um comando para
resetar, isto é, apagar o snapshot. Feito isso, o processo acima se
repete.</p>
<p>A principal vantagem de testes de snapshot é que eles podem ser
implementados de forma simples, por meio de pequenos trechos de código.
Por outro lado, a principal desvantagem é a sua fragilidade, pois mesmo
pequenas mudanças no leiaute de uma página resultam em falsos
positivos.</p>
<p>Por isso, alguns desenvolvedores consideram que testes de snapshot,
na verdade, geram <em>warnings</em> que alertam sobre mudanças na
apresentação de um componente. Esses warnings devem ser analisados para
comprovar se, de fato, eles representam regressões ou não. Se não
representarem, os defensores de testes de snapshot argumentam que o
processo de resetar os snapshots é simples e rápido.</p>
<hr />
<p>Voltar para a lista de <a href="./artigos.html">artigos</a>.</p>
</div>
</div>
</div>

<footer>
Direitos autorais reservados. Versão para uso pessoal.
Para reportar quaisquer erros, incluindo pequenos erros de ortografia, use este <a href="https://forms.gle/KbzvMx5RLnqPR7uq7">formulário</a>.
</footer>
</body>
</html>
